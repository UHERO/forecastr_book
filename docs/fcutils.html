<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Peter Fuleky">

<title>6&nbsp; Utility functions – User guide to UHERO's forecast processes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./bestpract.html" rel="next">
<link href="./setup.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-854d42f42d0f6b455b86ad16a464e311.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./fcutils.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Utility functions</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">User guide to UHERO’s forecast processes</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/UHERO/forecastr_book/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./forecastr.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./forecastr.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">About</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Projects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Version control</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Package management</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Setup of the forecastr project</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fcutils.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Utility functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bestpract.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Best practices for time series data manipulation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modselect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Model selection and simulation</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-io" id="toc-sec-io" class="nav-link active" data-scroll-target="#sec-io"><span class="header-section-number">6.1</span> Input-output and data generation</a>
  <ul class="collapse">
  <li><a href="#fcutilsget_series" id="toc-fcutilsget_series" class="nav-link" data-scroll-target="#fcutilsget_series">fcutils::get_series()</a></li>
  <li><a href="#fcutilsget_series_exp" id="toc-fcutilsget_series_exp" class="nav-link" data-scroll-target="#fcutilsget_series_exp">fcutils::get_series_exp()</a></li>
  <li><a href="#fcutilsset_udaman_token" id="toc-fcutilsset_udaman_token" class="nav-link" data-scroll-target="#fcutilsset_udaman_token">fcutils::set_udaman_token()</a></li>
  <li><a href="#fcutilsmake_xts" id="toc-fcutilsmake_xts" class="nav-link" data-scroll-target="#fcutilsmake_xts">fcutils::make_xts()</a></li>
  <li><a href="#fcutilsaddf" id="toc-fcutilsaddf" class="nav-link" data-scroll-target="#fcutilsaddf">fcutils::addf()</a></li>
  <li><a href="#fcutilscopy_tbl" id="toc-fcutilscopy_tbl" class="nav-link" data-scroll-target="#fcutilscopy_tbl">fcutils::copy_tbl()</a></li>
  <li><a href="#fcutilsgen_table" id="toc-fcutilsgen_table" class="nav-link" data-scroll-target="#fcutilsgen_table">fcutils::gen_table()</a></li>
  <li><a href="#fcutilswrite_tsd" id="toc-fcutilswrite_tsd" class="nav-link" data-scroll-target="#fcutilswrite_tsd">fcutils::write_tsd()</a></li>
  </ul></li>
  <li><a href="#sec-tsinfo" id="toc-sec-tsinfo" class="nav-link" data-scroll-target="#sec-tsinfo"><span class="header-section-number">6.2</span> Time series info and date manipulation</a>
  <ul class="collapse">
  <li><a href="#tsboxts_summary" id="toc-tsboxts_summary" class="nav-link" data-scroll-target="#tsboxts_summary">tsbox::ts_summary()</a></li>
  <li><a href="#tsboxts_first_of_period" id="toc-tsboxts_first_of_period" class="nav-link" data-scroll-target="#tsboxts_first_of_period">tsbox::ts_first_of_period()</a></li>
  <li><a href="#tsboxts_regular" id="toc-tsboxts_regular" class="nav-link" data-scroll-target="#tsboxts_regular">tsbox::ts_regular()</a></li>
  <li><a href="#tsboxts_na_omit" id="toc-tsboxts_na_omit" class="nav-link" data-scroll-target="#tsboxts_na_omit">tsbox::ts_na_omit()</a></li>
  <li><a href="#tsboxts_span" id="toc-tsboxts_span" class="nav-link" data-scroll-target="#tsboxts_span">tsbox::ts_span()</a></li>
  <li><a href="#fcutilsspan" id="toc-fcutilsspan" class="nav-link" data-scroll-target="#fcutilsspan">fcutils::span()</a></li>
  <li><a href="#fcutilsfind_start" id="toc-fcutilsfind_start" class="nav-link" data-scroll-target="#fcutilsfind_start">fcutils::find_start()</a></li>
  <li><a href="#fcutilsfind_end" id="toc-fcutilsfind_end" class="nav-link" data-scroll-target="#fcutilsfind_end">fcutils::find_end()</a></li>
  <li><a href="#fcutilsnmons" id="toc-fcutilsnmons" class="nav-link" data-scroll-target="#fcutilsnmons">fcutils::nmons()</a></li>
  <li><a href="#fcutilsnqtrs" id="toc-fcutilsnqtrs" class="nav-link" data-scroll-target="#fcutilsnqtrs">fcutils::nqtrs()</a></li>
  <li><a href="#fcutilsqtrs" id="toc-fcutilsqtrs" class="nav-link" data-scroll-target="#fcutilsqtrs">fcutils::qtrs()</a></li>
  <li><a href="#fcutilsp" id="toc-fcutilsp" class="nav-link" data-scroll-target="#fcutilsp">fcutils::p()</a></li>
  <li><a href="#fcutilspm" id="toc-fcutilspm" class="nav-link" data-scroll-target="#fcutilspm">fcutils::pm()</a></li>
  <li><a href="#fcutilspq" id="toc-fcutilspq" class="nav-link" data-scroll-target="#fcutilspq">fcutils::pq()</a></li>
  <li><a href="#fcutilspy" id="toc-fcutilspy" class="nav-link" data-scroll-target="#fcutilspy">fcutils::py()</a></li>
  <li><a href="#fcutilsto_ymd" id="toc-fcutilsto_ymd" class="nav-link" data-scroll-target="#fcutilsto_ymd">fcutils::to_ymd()</a></li>
  <li><a href="#fcutilsymd_to_yqq" id="toc-fcutilsymd_to_yqq" class="nav-link" data-scroll-target="#fcutilsymd_to_yqq">fcutils::ymd_to_yQq()</a></li>
  </ul></li>
  <li><a href="#frequency-conversion" id="toc-frequency-conversion" class="nav-link" data-scroll-target="#frequency-conversion"><span class="header-section-number">6.3</span> Frequency conversion</a>
  <ul class="collapse">
  <li><a href="#tsboxts_frequency" id="toc-tsboxts_frequency" class="nav-link" data-scroll-target="#tsboxts_frequency">tsbox::ts_frequency()</a></li>
  <li><a href="#fcutilsdisagg" id="toc-fcutilsdisagg" class="nav-link" data-scroll-target="#fcutilsdisagg">fcutils::disagg()</a></li>
  <li><a href="#fcutilsqtoa" id="toc-fcutilsqtoa" class="nav-link" data-scroll-target="#fcutilsqtoa">fcutils::QtoA()</a></li>
  <li><a href="#fcutilsatoq" id="toc-fcutilsatoq" class="nav-link" data-scroll-target="#fcutilsatoq">fcutils::AtoQ()</a></li>
  </ul></li>
  <li><a href="#growth-rates-and-level-operations" id="toc-growth-rates-and-level-operations" class="nav-link" data-scroll-target="#growth-rates-and-level-operations"><span class="header-section-number">6.4</span> Growth rates and level operations</a>
  <ul class="collapse">
  <li><a href="#tsboxts_pc" id="toc-tsboxts_pc" class="nav-link" data-scroll-target="#tsboxts_pc">tsbox::ts_pc()</a></li>
  <li><a href="#tsboxts_lag" id="toc-tsboxts_lag" class="nav-link" data-scroll-target="#tsboxts_lag">tsbox::ts_lag()</a></li>
  <li><a href="#tsboxts_arithmetic" id="toc-tsboxts_arithmetic" class="nav-link" data-scroll-target="#tsboxts_arithmetic">tsbox::ts_arithmetic()</a></li>
  <li><a href="#tsboxts_scale" id="toc-tsboxts_scale" class="nav-link" data-scroll-target="#tsboxts_scale">tsbox::ts_scale()</a></li>
  <li><a href="#tsboxts_trend" id="toc-tsboxts_trend" class="nav-link" data-scroll-target="#tsboxts_trend">tsbox::ts_trend()</a></li>
  <li><a href="#tsboxts_bind" id="toc-tsboxts_bind" class="nav-link" data-scroll-target="#tsboxts_bind">tsbox::ts_bind()</a></li>
  <li><a href="#tsboxts_index" id="toc-tsboxts_index" class="nav-link" data-scroll-target="#tsboxts_index">tsbox::ts_index()</a></li>
  <li><a href="#fcutilsindex" id="toc-fcutilsindex" class="nav-link" data-scroll-target="#fcutilsindex">fcutils::index()</a></li>
  <li><a href="#fcutilsma" id="toc-fcutilsma" class="nav-link" data-scroll-target="#fcutilsma">fcutils::ma()</a></li>
  <li><a href="#fcutilsyoy_to_lev" id="toc-fcutilsyoy_to_lev" class="nav-link" data-scroll-target="#fcutilsyoy_to_lev">fcutils::yoy_to_lev()</a></li>
  <li><a href="#fcutilsmtd_cum" id="toc-fcutilsmtd_cum" class="nav-link" data-scroll-target="#fcutilsmtd_cum">fcutils::mtd_cum()</a></li>
  <li><a href="#fcutilsmtd_gr" id="toc-fcutilsmtd_gr" class="nav-link" data-scroll-target="#fcutilsmtd_gr">fcutils::mtd_gr()</a></li>
  <li><a href="#fcutilsytd_cum" id="toc-fcutilsytd_cum" class="nav-link" data-scroll-target="#fcutilsytd_cum">fcutils::ytd_cum()</a></li>
  <li><a href="#fcutilsytd_gr" id="toc-fcutilsytd_gr" class="nav-link" data-scroll-target="#fcutilsytd_gr">fcutils::ytd_gr()</a></li>
  <li><a href="#fcutilsptd_cum" id="toc-fcutilsptd_cum" class="nav-link" data-scroll-target="#fcutilsptd_cum">fcutils::ptd_cum()</a></li>
  <li><a href="#fcutilsptd_gr" id="toc-fcutilsptd_gr" class="nav-link" data-scroll-target="#fcutilsptd_gr">fcutils::ptd_gr()</a></li>
  <li><a href="#fcutilspca_to_pc" id="toc-fcutilspca_to_pc" class="nav-link" data-scroll-target="#fcutilspca_to_pc">fcutils::pca_to_pc()</a></li>
  <li><a href="#fcutilspc_to_pca" id="toc-fcutilspc_to_pca" class="nav-link" data-scroll-target="#fcutilspc_to_pca">fcutils::pc_to_pca()</a></li>
  <li><a href="#fcutilscagr" id="toc-fcutilscagr" class="nav-link" data-scroll-target="#fcutilscagr">fcutils::cagr()</a></li>
  <li><a href="#fcutilspcmp" id="toc-fcutilspcmp" class="nav-link" data-scroll-target="#fcutilspcmp">fcutils::pcmp()</a></li>
  <li><a href="#fcutils" id="toc-fcutils" class="nav-link" data-scroll-target="#fcutils">fcutils::<code>%+=%</code>()</a></li>
  </ul></li>
  <li><a href="#sec-type" id="toc-sec-type" class="nav-link" data-scroll-target="#sec-type"><span class="header-section-number">6.5</span> Data type conversion</a>
  <ul class="collapse">
  <li><a href="#tsboxts_ts" id="toc-tsboxts_ts" class="nav-link" data-scroll-target="#tsboxts_ts">tsbox::ts_ts()</a></li>
  <li><a href="#tsboxts_long" id="toc-tsboxts_long" class="nav-link" data-scroll-target="#tsboxts_long">tsbox::ts_long()</a></li>
  <li><a href="#fcutilsconv_long" id="toc-fcutilsconv_long" class="nav-link" data-scroll-target="#fcutilsconv_long">fcutils::conv_long()</a></li>
  <li><a href="#fcutilsis_wide" id="toc-fcutilsis_wide" class="nav-link" data-scroll-target="#fcutilsis_wide">fcutils::is_wide()</a></li>
  <li><a href="#fcutilsset_attr_tslist" id="toc-fcutilsset_attr_tslist" class="nav-link" data-scroll-target="#fcutilsset_attr_tslist">fcutils::set_attr_tslist()</a></li>
  </ul></li>
  <li><a href="#sec-field" id="toc-sec-field" class="nav-link" data-scroll-target="#sec-field"><span class="header-section-number">6.6</span> Data field operations</a>
  <ul class="collapse">
  <li><a href="#tsboxts_c" id="toc-tsboxts_c" class="nav-link" data-scroll-target="#tsboxts_c">tsbox::ts_c()</a></li>
  <li><a href="#tsboxts_default" id="toc-tsboxts_default" class="nav-link" data-scroll-target="#tsboxts_default">tsbox::ts_default()</a></li>
  <li><a href="#tsboxts_pick" id="toc-tsboxts_pick" class="nav-link" data-scroll-target="#tsboxts_pick">tsbox::ts_pick()</a></li>
  <li><a href="#fcutilsget_var" id="toc-fcutilsget_var" class="nav-link" data-scroll-target="#fcutilsget_var">fcutils::get_var()</a></li>
  <li><a href="#fcutilsrename_udaman" id="toc-fcutilsrename_udaman" class="nav-link" data-scroll-target="#fcutilsrename_udaman">fcutils::rename_udaman()</a></li>
  </ul></li>
  <li><a href="#sec-plots" id="toc-sec-plots" class="nav-link" data-scroll-target="#sec-plots"><span class="header-section-number">6.7</span> Plots</a>
  <ul class="collapse">
  <li><a href="#tsboxts_ggplot" id="toc-tsboxts_ggplot" class="nav-link" data-scroll-target="#tsboxts_ggplot">tsbox::ts_ggplot()</a></li>
  <li><a href="#tsboxts_plot" id="toc-tsboxts_plot" class="nav-link" data-scroll-target="#tsboxts_plot">tsbox::ts_plot()</a></li>
  <li><a href="#tsboxts_save" id="toc-tsboxts_save" class="nav-link" data-scroll-target="#tsboxts_save">tsbox::ts_save()</a></li>
  <li><a href="#fcutilsplot_1" id="toc-fcutilsplot_1" class="nav-link" data-scroll-target="#fcutilsplot_1">fcutils::plot_1()</a></li>
  <li><a href="#fcutilsplot_2ax" id="toc-fcutilsplot_2ax" class="nav-link" data-scroll-target="#fcutilsplot_2ax">fcutils::plot_2ax()</a></li>
  <li><a href="#fcutilsplot_comp_2" id="toc-fcutilsplot_comp_2" class="nav-link" data-scroll-target="#fcutilsplot_comp_2">fcutils::plot_comp_2()</a></li>
  <li><a href="#fcutilsplot_comp_3" id="toc-fcutilsplot_comp_3" class="nav-link" data-scroll-target="#fcutilsplot_comp_3">fcutils::plot_comp_3()</a></li>
  <li><a href="#fcutilsplot_fc" id="toc-fcutilsplot_fc" class="nav-link" data-scroll-target="#fcutilsplot_fc">fcutils::plot_fc()</a></li>
  <li><a href="#fcutilssave_plot_list" id="toc-fcutilssave_plot_list" class="nav-link" data-scroll-target="#fcutilssave_plot_list">fcutils::save_plot_list()</a></li>
  <li><a href="#uherothemeuhero_theme" id="toc-uherothemeuhero_theme" class="nav-link" data-scroll-target="#uherothemeuhero_theme">uherotheme::uhero_theme()</a></li>
  <li><a href="#uherothemeuhero_scale_nums" id="toc-uherothemeuhero_scale_nums" class="nav-link" data-scroll-target="#uherothemeuhero_scale_nums">uherotheme::uhero_scale_nums()</a></li>
  <li><a href="#uherothemeuhero_colors" id="toc-uherothemeuhero_colors" class="nav-link" data-scroll-target="#uherothemeuhero_colors">uherotheme::uhero_colors()</a></li>
  <li><a href="#uherothemeuhero_pal" id="toc-uherothemeuhero_pal" class="nav-link" data-scroll-target="#uherothemeuhero_pal">uherotheme::uhero_pal()</a></li>
  <li><a href="#uherothemeuhero_scale_colour" id="toc-uherothemeuhero_scale_colour" class="nav-link" data-scroll-target="#uherothemeuhero_scale_colour">uherotheme::uhero_scale_colour()</a></li>
  <li><a href="#uherothemeuhero_scale_fill" id="toc-uherothemeuhero_scale_fill" class="nav-link" data-scroll-target="#uherothemeuhero_scale_fill">uherotheme::uhero_scale_fill()</a></li>
  <li><a href="#uherothemeuhero_scale_colour_diverge" id="toc-uherothemeuhero_scale_colour_diverge" class="nav-link" data-scroll-target="#uherothemeuhero_scale_colour_diverge">uherotheme::uhero_scale_colour_diverge()</a></li>
  <li><a href="#uherothemeuhero_scale_fill_diverge" id="toc-uherothemeuhero_scale_fill_diverge" class="nav-link" data-scroll-target="#uherothemeuhero_scale_fill_diverge">uherotheme::uhero_scale_fill_diverge()</a></li>
  <li><a href="#uherothemedraw_fcast_layout" id="toc-uherothemedraw_fcast_layout" class="nav-link" data-scroll-target="#uherothemedraw_fcast_layout">uherotheme::draw_fcast_layout()</a></li>
  <li><a href="#uherothemedraw_report_layout" id="toc-uherothemedraw_report_layout" class="nav-link" data-scroll-target="#uherothemedraw_report_layout">uherotheme::draw_report_layout()</a></li>
  <li><a href="#uherothemeexport_fcast_layout" id="toc-uherothemeexport_fcast_layout" class="nav-link" data-scroll-target="#uherothemeexport_fcast_layout">uherotheme::export_fcast_layout()</a></li>
  <li><a href="#uherothemeexport_report_layout" id="toc-uherothemeexport_report_layout" class="nav-link" data-scroll-target="#uherothemeexport_report_layout">uherotheme::export_report_layout()</a></li>
  <li><a href="#uherothemeexport_plot" id="toc-uherothemeexport_plot" class="nav-link" data-scroll-target="#uherothemeexport_plot">uherotheme::export_plot()</a></li>
  </ul></li>
  <li><a href="#tsbox-extensions" id="toc-tsbox-extensions" class="nav-link" data-scroll-target="#tsbox-extensions"><span class="header-section-number">6.8</span> tsbox extensions</a>
  <ul class="collapse">
  <li><a href="#tsboxts_" id="toc-tsboxts_" class="nav-link" data-scroll-target="#tsboxts_">tsbox::ts_()</a></li>
  <li><a href="#tsboxts_examples" id="toc-tsboxts_examples" class="nav-link" data-scroll-target="#tsboxts_examples">tsbox::ts_examples()</a></li>
  </ul></li>
  <li><a href="#bimets-and-gets-utilities" id="toc-bimets-and-gets-utilities" class="nav-link" data-scroll-target="#bimets-and-gets-utilities"><span class="header-section-number">6.9</span> bimets and gets utilities</a>
  <ul class="collapse">
  <li><a href="#fcutilsset_tsrange" id="toc-fcutilsset_tsrange" class="nav-link" data-scroll-target="#fcutilsset_tsrange">fcutils::set_tsrange()</a></li>
  <li><a href="#fcutilsupdate_eqs" id="toc-fcutilsupdate_eqs" class="nav-link" data-scroll-target="#fcutilsupdate_eqs">fcutils::update_eqs()</a></li>
  <li><a href="#fcutilsextract_data" id="toc-fcutilsextract_data" class="nav-link" data-scroll-target="#fcutilsextract_data">fcutils::extract_data()</a></li>
  <li><a href="#fcutilsmodel_equation" id="toc-fcutilsmodel_equation" class="nav-link" data-scroll-target="#fcutilsmodel_equation">fcutils::model_equation()</a></li>
  </ul></li>
  <li><a href="#fcutils-constants" id="toc-fcutils-constants" class="nav-link" data-scroll-target="#fcutils-constants"><span class="header-section-number">6.10</span> fcutils constants</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/UHERO/forecastr_book/edit/main/fcutils.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/UHERO/forecastr_book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/UHERO/forecastr_book/blob/main/fcutils.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-utils" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Utility functions</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This section describes utility functions that facilitate common operations on time series data. These functions perform frequency conversion, growth rate conversion, time series arithmetic and combination, plot generation, etc.</p>
<p>The R ecosystem knows a vast number of time series classes: ts, xts, zoo, tsibble, tibbletime, tis, or timeSeries. The plethora of standards causes confusion. As different packages rely on different classes, it is hard to use them in the same analysis. The <a href="https://docs.ropensci.org/tsbox/">tsbox package</a> provides a set of tools that make it easy to switch between these classes. It also allows the user to treat time series as plain data frames, facilitating the use with tools that assume rectangular data. In each section below functions from the tsbox package are listed first followed by functions from the <a href="https://github.com/UHERO/fcutils">fcutils package</a>. The <a href="https://github.com/uhero/uherotheme">uherotheme package</a> contains functions to apply the UHERO style guide to plots made with <a href="https://ggplot2.tidyverse.org/">ggplot</a>. These functions are listed under <a href="#sec-plots" class="quarto-xref">Section&nbsp;<span>6.7</span></a>.</p>
<section id="sec-io" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="sec-io"><span class="header-section-number">6.1</span> Input-output and data generation</h2>
<section id="fcutilsget_series" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsget_series">fcutils::get_series()</h3>
<section id="description" class="level4">
<h4 class="anchored" data-anchor-id="description">Description</h4>
<p>Download a set of series from udaman using series names</p>
</section>
<section id="usage" class="level4">
<h4 class="anchored" data-anchor-id="usage">Usage</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  ser_id_vec,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">format =</span> <span class="st">"wide"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  expand,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">raw =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">rename =</span> <span class="st">"compact"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">freq =</span> <span class="cn">NULL</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">descr =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">public =</span> <span class="cn">FALSE</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments" class="level4">
<h4 class="anchored" data-anchor-id="arguments">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="ser_id_vec">ser_id_vec</code></td>
<td style="text-align: left;">vector of series names (character)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="format">format</code></td>
<td style="text-align: left;">"wide" (default) or "long" or "xts"</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="expand">expand</code></td>
<td style="text-align: left;">DEPRECATED, USE raw INSTEAD "true" (default) or "raw" ("true" downloads formatted data, "raw" downloads raw units)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="raw">raw</code></td>
<td style="text-align: left;">TRUE (default) or FALSE (TRUE downloads raw data, FALSE downloads scaled and rounded data)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rename">rename</code></td>
<td style="text-align: left;">"compact" (default), "full", "no". "compact": @ replaced by _ and no frequency; "full": @ replaced by <em>AT</em> and . by _; "no": no renaming, keep UDAMAN names</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="freq">freq</code></td>
<td style="text-align: left;">if frequency is missing from series names (or want to modify freq in existing names) specify frequency (character), e.g.&nbsp;"M".</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="descr">descr</code></td>
<td style="text-align: left;">if TRUE add to the udaman series name the series description in parentheses (default: FALSE)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="public">public</code></td>
<td style="text-align: left;">if TRUE use the public API interface - does not require VPN (default: FALSE)</td>
</tr>
</tbody>
</table>
</section>
<section id="details" class="level4">
<h4 class="anchored" data-anchor-id="details">Details</h4>
<p>This function requires permission to access UDAMAN. Store the udaman token in the .Renviron file using the following format: udaman_token = "-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=" Or using fcutils::set_udaman_token("-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=") Or store the udaman token among your credentials (e.g.&nbsp;keychain) using keyring: keyring::key_set_with_value(service = "udaman_token", password = "-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=")</p>
</section>
<section id="value" class="level4">
<h4 class="anchored" data-anchor-id="value">Value</h4>
<p>time and data for all series combined in an object specified by the format option</p>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">Examples</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>, <span class="st">"VAPNS@HI.M"</span>), <span class="at">raw =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VEXP_RB@HI.M"</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>, <span class="st">"VAPNS@HI.M"</span>), <span class="at">public =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>, <span class="st">"VISUSNS@HI.M"</span>), <span class="at">freq =</span> <span class="st">"Q"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>, <span class="st">"VAPNS@HI.M"</span>), <span class="at">format =</span> <span class="st">"xts"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>), <span class="at">format =</span> <span class="st">"xts"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"VISNS@HI.M"</span>), <span class="at">format =</span> <span class="st">"xts"</span>, <span class="at">descr =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"E_NF_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"E_TU_HAW"</span>), <span class="at">freq =</span> <span class="st">"M"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"E_NF__HI_M"</span>, <span class="st">"ECT__HI_M"</span>, <span class="st">"VAP__HI_W"</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series</span>(<span class="fu">c</span>(<span class="st">"E_NF_AT_HI_M"</span>, <span class="st">"ECT_AT_HI_M"</span>, <span class="st">"VAP_AT_HI_W"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsget_series_exp" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsget_series_exp">fcutils::get_series_exp()</h3>
<section id="description-1" class="level4">
<h4 class="anchored" data-anchor-id="description-1">Description</h4>
<p>Download series listed in an export table from udaman</p>
</section>
<section id="usage-1" class="level4">
<h4 class="anchored" data-anchor-id="usage-1">Usage</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series_exp</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  exp_id,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">format =</span> <span class="st">"wide"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  expand,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">raw =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">rename =</span> <span class="st">"compact"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">descr =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">public =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_loc =</span> <span class="cn">NULL</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-1" class="level4">
<h4 class="anchored" data-anchor-id="arguments-1">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="exp_id">exp_id</code></td>
<td style="text-align: left;">export id (character or numeric)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="format">format</code></td>
<td style="text-align: left;">"wide" (default) or "long" or "xts"</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="expand">expand</code></td>
<td style="text-align: left;">DEPRECATED, USE raw INSTEAD "true" or "raw" ("true" downloads formatted data, "raw" downloads raw units)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="raw">raw</code></td>
<td style="text-align: left;">TRUE (default) or FALSE (TRUE downloads raw data, FALSE downloads scaled and rounded data)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rename">rename</code></td>
<td style="text-align: left;">"compact" (default), "full", "no". "compact": @ replaced by _ and no frequency; "full": @ replaced by <em>AT</em> and . by _; "no": no renaming, keep UDAMAN names</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="descr">descr</code></td>
<td style="text-align: left;">if TRUE add to the udaman series name the series description in parentheses (default: FALSE)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="public">public</code></td>
<td style="text-align: left;">if TRUE use the public API interface - does not require VPN (default: FALSE)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="save_loc">save_loc</code></td>
<td style="text-align: left;">file path for saving data incl.&nbsp;extension ("html" or "csv") (default NULL)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-1" class="level4">
<h4 class="anchored" data-anchor-id="details-1">Details</h4>
<p>This function requires permission to access UDAMAN. Store the udaman token in the .Renviron file using the following format: udaman_token = "-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=" Or using fcutils::set_udaman_token("-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=") Or store the udaman token among your credentials (e.g.&nbsp;keychain) using keyring: keyring::key_set_with_value(service = "udaman_token", password = "-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890=")</p>
</section>
<section id="value-1" class="level4">
<h4 class="anchored" data-anchor-id="value-1">Value</h4>
<p>time and data for all series combined in a tibble</p>
</section>
<section id="examples-1" class="level4">
<h4 class="anchored" data-anchor-id="examples-1">Examples</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series_exp</span>(<span class="at">exp_id =</span> <span class="dv">74</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get_series_exp</span>(<span class="dv">74</span>, <span class="at">format =</span> <span class="st">"xts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsset_udaman_token" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsset_udaman_token">fcutils::set_udaman_token()</h3>
<section id="description-2" class="level4">
<h4 class="anchored" data-anchor-id="description-2">Description</h4>
<p>Set udaman token for API access</p>
</section>
<section id="usage-2" class="level4">
<h4 class="anchored" data-anchor-id="usage-2">Usage</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_udaman_token</span>(key)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-2" class="level4">
<h4 class="anchored" data-anchor-id="arguments-2">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="key">key</code></td>
<td style="text-align: left;">a string containing 44 characters</td>
</tr>
</tbody>
</table>
</section>
<section id="details-2" class="level4">
<h4 class="anchored" data-anchor-id="details-2">Details</h4>
<p>Save the token in .Renviron as udaman_token = key.</p>
</section>
<section id="value-2" class="level4">
<h4 class="anchored" data-anchor-id="value-2">Value</h4>
<p>true if setting the token in .Renviron succeeded</p>
</section>
<section id="examples-2" class="level4">
<h4 class="anchored" data-anchor-id="examples-2">Examples</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_udaman_token</span>(<span class="st">"-ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890="</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsmake_xts" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsmake_xts">fcutils::make_xts()</h3>
<section id="description-3" class="level4">
<h4 class="anchored" data-anchor-id="description-3">Description</h4>
<p>Create xts and fill with values</p>
</section>
<section id="usage-3" class="level4">
<h4 class="anchored" data-anchor-id="usage-3">Usage</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">start =</span> bnk_start, <span class="at">end =</span> <span class="cn">NULL</span>, <span class="at">per =</span> <span class="st">"year"</span>, <span class="at">val =</span> <span class="cn">NA_real_</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-3" class="level4">
<h4 class="anchored" data-anchor-id="arguments-3">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="start">start</code></td>
<td style="text-align: left;">date of series start (character: "yyyy-mm-dd", "yyyyqq", "yyyy")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="end">end</code></td>
<td style="text-align: left;">date of series end (character: "yyyy-mm-dd", "yyyyqq", "yyyy")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="per">per</code></td>
<td style="text-align: left;">periodicity of series (character: "year" - default) if date format of start is quarterly, automatically set to "quarter"</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="val">val</code></td>
<td style="text-align: left;">values to fill in (numeric scalar, vector, or tibble)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-3" class="level4">
<h4 class="anchored" data-anchor-id="details-3">Details</h4>
<p>when end is missing, but val is a vector of more than one element, the end date is automatically determined by the length of the val vector. if end is missing and val is a scalar, the end date is set to bnk_end. if end is missing the remaining arguments have to be named. if val is a tibble, the end date is automatically determined by the number of rows in the tibble.</p>
</section>
<section id="value-3" class="level4">
<h4 class="anchored" data-anchor-id="value-3">Value</h4>
<p>an xts series</p>
</section>
<section id="examples-3" class="level4">
<h4 class="anchored" data-anchor-id="examples-3">Examples</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">val =</span> <span class="dv">0</span>, <span class="at">per =</span> <span class="st">"m"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">start =</span> <span class="dv">20100101</span>, <span class="at">per =</span> <span class="st">"quarter"</span>, <span class="at">val =</span> <span class="dv">0</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">start =</span> <span class="fl">2010.1</span>, <span class="at">per =</span> <span class="st">"q"</span>, <span class="at">val =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="fl">2010.1</span>, <span class="at">val =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="do">## automatically set per = "quarter"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">start =</span> <span class="st">"2010-01-01"</span>, <span class="at">per =</span> <span class="st">"m"</span>, <span class="at">val =</span> <span class="dv">0</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">make_xts</span>(<span class="at">start =</span> <span class="dv">201001</span>, <span class="at">per =</span> <span class="st">"q"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">val =</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">E_NF_HON =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">ECT_HI =</span> <span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsaddf" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsaddf">fcutils::addf()</h3>
<section id="description-4" class="level4">
<h4 class="anchored" data-anchor-id="description-4">Description</h4>
<p>Create xts addfactor</p>
</section>
<section id="usage-4" class="level4">
<h4 class="anchored" data-anchor-id="usage-4">Usage</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">start =</span> bnk_start,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">end =</span> bnk_end,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> <span class="dv">0</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> <span class="dv">0</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ser_name =</span> <span class="st">"value"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">per =</span> <span class="st">"year"</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-4" class="level4">
<h4 class="anchored" data-anchor-id="arguments-4">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="start">start</code></td>
<td style="text-align: left;">start date of linear interpolation (character: "yyyy-mm-dd", "yyyyqq", "yyyy")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="end">end</code></td>
<td style="text-align: left;">end date of linear interpolation (character: "yyyy-mm-dd", "yyyyqq", "yyyy")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="from">from</code></td>
<td style="text-align: left;">first value for linear interpolation (numeric)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="to">to</code></td>
<td style="text-align: left;">last value for linear interpolation (numeric)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="ser_name">ser_name</code></td>
<td style="text-align: left;">name of the xts series (string)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="per">per</code></td>
<td style="text-align: left;">periodicity of series (character: "year" - default) if date format of start is quarterly, automatically set to "quarter"</td>
</tr>
</tbody>
</table>
</section>
<section id="details-4" class="level4">
<h4 class="anchored" data-anchor-id="details-4">Details</h4>
<p>this is a wrapper around make_xts with some additional functionality. the start and end dates specify the span of the non-zero add-factor value. the remaining period between start and end is filled with zeros.</p>
</section>
<section id="value-4" class="level4">
<h4 class="anchored" data-anchor-id="value-4">Value</h4>
<p>a single xts series spanning bnk_start-bnk_end</p>
</section>
<section id="examples-4" class="level4">
<h4 class="anchored" data-anchor-id="examples-4">Examples</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>(<span class="dv">201002</span>, <span class="dv">201504</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>(<span class="dv">20100101</span>, <span class="dv">20601201</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="at">per =</span> <span class="st">"month"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>(<span class="dv">20100101</span>, <span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">2</span>, <span class="at">per =</span> <span class="st">"quarter"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">addf</span>(<span class="fl">2010.2</span>, <span class="fl">2015.4</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"ECT_HI"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilscopy_tbl" class="level3">
<h3 class="anchored" data-anchor-id="fcutilscopy_tbl">fcutils::copy_tbl()</h3>
<section id="description-5" class="level4">
<h4 class="anchored" data-anchor-id="description-5">Description</h4>
<p>Copy a data frame to clipboard (only works on MacOS)</p>
</section>
<section id="usage-5" class="level4">
<h4 class="anchored" data-anchor-id="usage-5">Usage</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">copy_tbl</span>(x, <span class="at">dec =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-5" class="level4">
<h4 class="anchored" data-anchor-id="arguments-5">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">tibble (or data frame) to be copied</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dec">dec</code></td>
<td style="text-align: left;">number of decimals to round numeric columns to (default: 2)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-5" class="level4">
<h4 class="anchored" data-anchor-id="value-5">Value</h4>
<p>copy_tbl() returns the input x invisibly</p>
</section>
<section id="examples-5" class="level4">
<h4 class="anchored" data-anchor-id="examples-5">Examples</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span> <span class="fu">copy_tbl</span>()</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span> <span class="fu">copy_tbl</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsgen_table" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsgen_table">fcutils::gen_table()</h3>
<section id="description-6" class="level4">
<h4 class="anchored" data-anchor-id="description-6">Description</h4>
<p>Generate a table with time series</p>
</section>
<section id="usage-6" class="level4">
<h4 class="anchored" data-anchor-id="usage-6">Usage</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tbl_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">tbl_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">percent =</span> <span class="st">"pc"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">time_across =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">tbl_height =</span> <span class="dv">800</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_loc =</span> <span class="cn">NULL</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-6" class="level4">
<h4 class="anchored" data-anchor-id="arguments-6">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="tbl_start">tbl_start</code></td>
<td style="text-align: left;">start period for table</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="tbl_end">tbl_end</code></td>
<td style="text-align: left;">end period for table</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="percent">percent</code></td>
<td style="text-align: left;">what type of percent should be added ("none", "pc" (default), "pcy", "pca")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="time_across">time_across</code></td>
<td style="text-align: left;">should time be in column headers and variable names in first column (default TRUE)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="tbl_height">tbl_height</code></td>
<td style="text-align: left;">the height of the table in px (default 800)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="save_loc">save_loc</code></td>
<td style="text-align: left;">file path for saving table incl.&nbsp;extension ("html" or "csv") (default NULL)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-6" class="level4">
<h4 class="anchored" data-anchor-id="value-6">Value</h4>
<p>table formatted for output</p>
</section>
<section id="examples-6" class="level4">
<h4 class="anchored" data-anchor-id="examples-6">Examples</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gen_table</span>()</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(quarterly_data_example)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(quarterly_data_example, <span class="at">percent =</span> <span class="st">"none"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(quarterly_data_example, <span class="at">percent =</span> <span class="st">"pcy"</span>, <span class="at">time_across =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(quarterly_data_example,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">percent =</span> <span class="st">"pcy"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">time_across =</span> <span class="cn">FALSE</span>, <span class="at">save_loc =</span> <span class="st">"~/Downloads/temp.csv"</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">gen_table</span>(quarterly_data_example,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">percent =</span> <span class="st">"pcy"</span>, <span class="at">time_across =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_loc =</span> <span class="st">"~/Downloads/temp.html"</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilswrite_tsd" class="level3">
<h3 class="anchored" data-anchor-id="fcutilswrite_tsd">fcutils::write_tsd()</h3>
<section id="description-7" class="level4">
<h4 class="anchored" data-anchor-id="description-7">Description</h4>
<p>Save a ts-boxable object in tsd format</p>
</section>
<section id="usage-7" class="level4">
<h4 class="anchored" data-anchor-id="usage-7">Usage</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsd</span>(x, file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-7" class="level4">
<h4 class="anchored" data-anchor-id="arguments-7">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object (only M, Q, A frequency)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="file">file</code></td>
<td style="text-align: left;">character string denoting the location and name of the output file</td>
</tr>
</tbody>
</table>
</section>
<section id="value-7" class="level4">
<h4 class="anchored" data-anchor-id="value-7">Value</h4>
<p>nothing (silently save the contents of the tsd file to a user defined location)</p>
</section>
<section id="examples-7" class="level4">
<h4 class="anchored" data-anchor-id="examples-7">Examples</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span> <span class="fu">write_tsd</span>(<span class="st">"out.tsd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="sec-tsinfo" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="sec-tsinfo"><span class="header-section-number">6.2</span> Time series info and date manipulation</h2>
<section id="tsboxts_summary" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_summary">tsbox::ts_summary()</h3>
<section id="description-8" class="level4">
<h4 class="anchored" data-anchor-id="description-8">Description</h4>
<p>Extract time series properties, such as the number of observations (<code>obs</code>), the time differences between observations (<code>obs</code>), the number of observations per year (<code>freq</code>), and the start time stamp (<code>start</code>) and the end time stamp (<code>end</code>) of the series.</p>
</section>
<section id="usage-8" class="level4">
<h4 class="anchored" data-anchor-id="usage-8">Usage</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(x, <span class="at">spark =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-8" class="level4">
<h4 class="anchored" data-anchor-id="arguments-8">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="spark">spark</code></td>
<td style="text-align: left;">logical should an additional column with a spark-line added to the data frame (experimental, ASCII only on Windows.)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-8" class="level4">
<h4 class="anchored" data-anchor-id="value-8">Value</h4>
<p><code>ts_summary</code> returns a <code>data.frame</code>. Individual column can be accessed through the <code>$</code> notation (see examples).</p>
</section>
<section id="examples-8" class="level4">
<h4 class="anchored" data-anchor-id="examples-8">Examples</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(<span class="fu">ts_c</span>(mdeaths, austres))</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(<span class="fu">ts_c</span>(mdeaths, austres), <span class="at">spark =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Extracting specific properties</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(AirPassengers)<span class="sc">$</span>start</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(AirPassengers)<span class="sc">$</span>freq</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_summary</span>(AirPassengers)<span class="sc">$</span>obs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_first_of_period" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_first_of_period">tsbox::ts_first_of_period()</h3>
<section id="description-9" class="level4">
<h4 class="anchored" data-anchor-id="description-9">Description</h4>
<p>Replace date or time values by the first of the period. tsbox usually relies on timestamps being the first value of a period.</p>
</section>
<section id="usage-9" class="level4">
<h4 class="anchored" data-anchor-id="usage-9">Usage</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_first_of_period</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-9" class="level4">
<h4 class="anchored" data-anchor-id="arguments-9">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-9" class="level4">
<h4 class="anchored" data-anchor-id="value-9">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-9" class="level4">
<h4 class="anchored" data-anchor-id="examples-9">Examples</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_c</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="fu">ts_lag</span>(<span class="fu">ts_df</span>(mdeaths), <span class="st">"14 days"</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="fu">ts_lag</span>(<span class="fu">ts_df</span>(mdeaths), <span class="st">"-2 days"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_first_of_period</span>(x)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_first_of_period</span>(<span class="fu">ts_lag</span>(<span class="fu">ts_df</span>(austres), <span class="st">"14 days"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_regular" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_regular">tsbox::ts_regular()</h3>
<section id="description-10" class="level4">
<h4 class="anchored" data-anchor-id="description-10">Description</h4>
<p>Enforces regularity in data frame and <code>xts</code> objects, by turning implicit <code>NA</code>s into explicit <code>NA</code>s. In <code>ts</code> objects, regularity is automatically enforced.</p>
</section>
<section id="usage-10" class="level4">
<h4 class="anchored" data-anchor-id="usage-10">Usage</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_regular</span>(x, <span class="at">fill =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-10" class="level4">
<h4 class="anchored" data-anchor-id="arguments-10">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="fill">fill</code></td>
<td style="text-align: left;">numeric, instead of <code>NA</code>, an alternative value can be specified. E.g., 0, -99.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-10" class="level4">
<h4 class="anchored" data-anchor-id="value-10">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-10" class="level4">
<h4 class="anchored" data-anchor-id="examples-10">Examples</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">&lt;-</span> AirPassengers</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>x0[<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">15</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_na_omit</span>(<span class="fu">ts_dts</span>(x0))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_regular</span>(x)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_regular</span>(x, <span class="at">fill =</span> <span class="dv">0</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> mdeaths</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>m[<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">69</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> fdeaths</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>f[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">15</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_regular</span>(<span class="fu">ts_na_omit</span>(<span class="fu">ts_dts</span>(<span class="fu">ts_c</span>(f, m))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_na_omit" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_na_omit">tsbox::ts_na_omit()</h3>
<section id="description-11" class="level4">
<h4 class="anchored" data-anchor-id="description-11">Description</h4>
<p>Remove NA values in ts-boxable objects, turning explicit into implicit missing values.</p>
</section>
<section id="usage-11" class="level4">
<h4 class="anchored" data-anchor-id="usage-11">Usage</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_na_omit</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-11" class="level4">
<h4 class="anchored" data-anchor-id="arguments-11">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-5" class="level4">
<h4 class="anchored" data-anchor-id="details-5">Details</h4>
<p>Note that internal NAs in <code>ts</code> time series will not be removed, as this conflicts with the regular structure.</p>
</section>
<section id="value-11" class="level4">
<h4 class="anchored" data-anchor-id="value-11">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="see-also" class="level4">
<h4 class="anchored" data-anchor-id="see-also">See Also</h4>
<p>ts_regular, for the opposite, turning implicit into explicit missing values.</p>
</section>
<section id="examples-11" class="level4">
<h4 class="anchored" data-anchor-id="examples-11">Examples</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> AirPassengers</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="do">## A ts object does only know explicit NAs</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_na_omit</span>(x)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="do">## by default, NAs are implicit in data frames</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_df</span>(x)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="do">## make NAs explicit</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_regular</span>(<span class="fu">ts_df</span>(x))</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="do">## and implicit again</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_na_omit</span>(<span class="fu">ts_regular</span>(<span class="fu">ts_df</span>(x)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_span" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_span">tsbox::ts_span()</h3>
<section id="description-12" class="level4">
<h4 class="anchored" data-anchor-id="description-12">Description</h4>
<p>Filter time series for a time span.</p>
</section>
<section id="usage-12" class="level4">
<h4 class="anchored" data-anchor-id="usage-12">Usage</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(x, <span class="at">start =</span> <span class="cn">NULL</span>, <span class="at">end =</span> <span class="cn">NULL</span>, <span class="at">template =</span> <span class="cn">NULL</span>, <span class="at">extend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-12" class="level4">
<h4 class="anchored" data-anchor-id="arguments-12">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="start">start</code></td>
<td style="text-align: left;">start date, character string of length 1, <code>Date</code> or <code>POSIXct</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="end">end</code></td>
<td style="text-align: left;">end date, character string of length 1, <code>Date</code> or <code>POSIXct</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="template">template</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>data.frame</code>, <code>data.table</code>, or <code>tibble</code>. If provided, <code>from</code> and <code>to</code> will be extracted from the object.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="extend">extend</code></td>
<td style="text-align: left;">logical. If true, the start and end values are allowed to extend the series (by adding <code>NA</code> values).</td>
</tr>
</tbody>
</table>
</section>
<section id="details-6" class="level4">
<h4 class="anchored" data-anchor-id="details-6">Details</h4>
<p>All date and times, when entered as character strings, are processed by <code>anytime::anydate()</code> or <code>anytime::anytime()</code>. Thus a wide range of inputs are possible. See examples.</p>
<p><code>start</code> and <code>end</code> can be specified relative to each other, using one of <code>"sec"</code>, <code>"min"</code>, <code>"hour"</code>, <code>"day"</code>, <code>"week"</code>, <code>"month"</code>, <code style="white-space: pre;">⁠"quarter" or ⁠</code>"year", or an abbreviation. If the series are of the same frequency, the shift can be specified in periods. See examples.</p>
</section>
<section id="value-12" class="level4">
<h4 class="anchored" data-anchor-id="value-12">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-12" class="level4">
<h4 class="anchored" data-anchor-id="examples-12">Examples</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">## use 'anytime' shortcuts</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="st">"1979"</span>)       <span class="do">## shortcut for 1979-01-01</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="st">"1979-4"</span>)     <span class="do">## shortcut for 1979-04-01</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="st">"197904"</span>)     <span class="do">## shortcut for 1979-04-01</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="do">## it's fine to use an to date outside of series span</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"2001-01-01"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="do">## use strings to set start or end relative to each other</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="st">"-7 month"</span>)   <span class="do">## last 7 months</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="sc">-</span><span class="dv">7</span>)           <span class="do">## last 7 periods</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="sc">-</span><span class="dv">1</span>)           <span class="do">## last single value</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"1e4 hours"</span>)    <span class="do">## first 10000 hours</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_span</span>(mdeaths, <span class="at">start =</span> <span class="st">"-3 years"</span>),</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Three years ago"</span>,</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"The last three years of available data"</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_ggplot</span>(</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"28 weeks"</span>),</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"28 weeks later"</span>,</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"The first 28 weeks of available data"</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> <span class="fu">theme_tsbox</span>() <span class="sc">+</span> <span class="fu">scale_color_tsbox</span>()</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="do">## Limit span of 'discoveries' to the same span as 'AirPassengers'</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(discoveries, <span class="at">template =</span> AirPassengers)</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"19801201"</span>, <span class="at">extend =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsspan" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsspan">fcutils::span()</h3>
<section id="description-13" class="level4">
<h4 class="anchored" data-anchor-id="description-13">Description</h4>
<p>Specify span of time series (wrapper around tsbox::ts_span())</p>
</section>
<section id="usage-13" class="level4">
<h4 class="anchored" data-anchor-id="usage-13">Usage</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">span</span>(x, <span class="at">start =</span> <span class="cn">NULL</span>, <span class="at">end =</span> <span class="cn">NULL</span>, <span class="at">template =</span> <span class="cn">NULL</span>, <span class="at">extend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-13" class="level4">
<h4 class="anchored" data-anchor-id="arguments-13">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to filter by span</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="start">start</code></td>
<td style="text-align: left;">start date (see examples)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="end">end</code></td>
<td style="text-align: left;">end date (see examples)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="template">template</code></td>
<td style="text-align: left;">ts-boxable time series (see tsbox::ts_span)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="extend">extend</code></td>
<td style="text-align: left;">logical. If true, the start and end values are allowed to extend the series (by adding NA values).</td>
</tr>
</tbody>
</table>
</section>
<section id="value-13" class="level4">
<h4 class="anchored" data-anchor-id="value-13">Value</h4>
<p>filtered object of the same type as the input</p>
</section>
<section id="examples-13" class="level4">
<h4 class="anchored" data-anchor-id="examples-13">Examples</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">span</span>(<span class="fl">2010.1</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">span</span>(<span class="fl">2010.1</span>, <span class="fl">2010.4</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">span</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2010-12-31"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsfind_start" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsfind_start">fcutils::find_start()</h3>
<section id="description-14" class="level4">
<h4 class="anchored" data-anchor-id="description-14">Description</h4>
<p>Find the date of the first observation (NAs are dropped)</p>
</section>
<section id="usage-14" class="level4">
<h4 class="anchored" data-anchor-id="usage-14">Usage</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find_start</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-14" class="level4">
<h4 class="anchored" data-anchor-id="arguments-14">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object</td>
</tr>
</tbody>
</table>
</section>
<section id="value-14" class="level4">
<h4 class="anchored" data-anchor-id="value-14">Value</h4>
<p>dates associated with first observation</p>
</section>
<section id="examples-14" class="level4">
<h4 class="anchored" data-anchor-id="examples-14">Examples</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">E_NF_HI =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(time <span class="sc">&lt;</span> <span class="st">"2000-01-01"</span>, <span class="cn">NA_real_</span>, E_NF_HI)) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">find_start</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsfind_end" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsfind_end">fcutils::find_end()</h3>
<section id="description-15" class="level4">
<h4 class="anchored" data-anchor-id="description-15">Description</h4>
<p>Find the date of the last observation (NAs are dropped)</p>
</section>
<section id="usage-15" class="level4">
<h4 class="anchored" data-anchor-id="usage-15">Usage</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find_end</span>(x, <span class="at">last_day =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-15" class="level4">
<h4 class="anchored" data-anchor-id="arguments-15">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="last_day">last_day</code></td>
<td style="text-align: left;">should the last day of period be returned (default: FALSE)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-15" class="level4">
<h4 class="anchored" data-anchor-id="value-15">Value</h4>
<p>date associated with last observation</p>
</section>
<section id="examples-15" class="level4">
<h4 class="anchored" data-anchor-id="examples-15">Examples</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">E_NF_HI =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(time <span class="sc">&gt;</span> <span class="st">"2022-01-01"</span>, <span class="cn">NA_real_</span>, E_NF_HI)) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">find_end</span>()</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">E_NF_HI =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(time <span class="sc">&gt;</span> <span class="st">"2022-01-01"</span>, <span class="cn">NA_real_</span>, E_NF_HI)) <span class="sc">|&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">find_end</span>(<span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsnmons" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsnmons">fcutils::nmons()</h3>
<section id="description-16" class="level4">
<h4 class="anchored" data-anchor-id="description-16">Description</h4>
<p>Calculate number of months between two dates yyyyMm, yyyy.m or yyyy-mm-dd</p>
</section>
<section id="usage-16" class="level4">
<h4 class="anchored" data-anchor-id="usage-16">Usage</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-16" class="level4">
<h4 class="anchored" data-anchor-id="arguments-16">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">date of period start (string: yyyyMm, yyyy.m, or yyyy-mm-dd)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">date of period end (string: yyyyMm, yyyy.m, or yyyy-mm-dd)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-7" class="level4">
<h4 class="anchored" data-anchor-id="details-7">Details</h4>
<p>The endpoints are included in the result so subtract one for time difference. Also, the result is rounded down so partial months are not counted. See examples.</p>
</section>
<section id="value-16" class="level4">
<h4 class="anchored" data-anchor-id="value-16">Value</h4>
<p>numeric length of date range in months</p>
</section>
<section id="examples-16" class="level4">
<h4 class="anchored" data-anchor-id="examples-16">Examples</h4>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="st">"2010M1"</span>, <span class="st">"2010M2"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="fl">2010.1</span>, <span class="fl">2010.4</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="st">"2010-01-15"</span>, <span class="st">"2010-04-15"</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="st">"2010-01-15"</span>, <span class="st">"2010-04-18"</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">nmons</span>(<span class="st">"2010-01-15"</span>, <span class="st">"2010-04-12"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsnqtrs" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsnqtrs">fcutils::nqtrs()</h3>
<section id="description-17" class="level4">
<h4 class="anchored" data-anchor-id="description-17">Description</h4>
<p>Calculate number of quarters between two dates yyyyQq, yyyy.q or yyyy-mm-dd</p>
</section>
<section id="usage-17" class="level4">
<h4 class="anchored" data-anchor-id="usage-17">Usage</h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-17" class="level4">
<h4 class="anchored" data-anchor-id="arguments-17">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">date of period start (string: yyyyQq, yyyy.q, or yyyy-mm-dd)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">date of period end (string: yyyyQq, yyyy.q, or yyyy-mm-dd)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-8" class="level4">
<h4 class="anchored" data-anchor-id="details-8">Details</h4>
<p>The endpoints are included in the result so subtract one for time difference. Also, the result is rounded down so partial quarters are not counted. See examples.</p>
</section>
<section id="value-17" class="level4">
<h4 class="anchored" data-anchor-id="value-17">Value</h4>
<p>numeric length of date range in quarters</p>
</section>
<section id="examples-17" class="level4">
<h4 class="anchored" data-anchor-id="examples-17">Examples</h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="st">"2010Q1"</span>, <span class="st">"2020Q4"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="fl">2010.1</span>, <span class="fl">2020.4</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2020-10-01"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="st">"2010-02-01"</span>, <span class="st">"2020-11-01"</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="st">"2010-02-01"</span>, <span class="st">"2020-10-01"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">nqtrs</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2020-11-01"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsqtrs" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsqtrs">fcutils::qtrs()</h3>
<section id="description-18" class="level4">
<h4 class="anchored" data-anchor-id="description-18">Description</h4>
<p>Convert period in quarters to period in months</p>
</section>
<section id="usage-18" class="level4">
<h4 class="anchored" data-anchor-id="usage-18">Usage</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qtrs</span>(nr_quarters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-18" class="level4">
<h4 class="anchored" data-anchor-id="arguments-18">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="nr_quarters">nr_quarters</code></td>
<td style="text-align: left;">number of quarters in period (integer)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-18" class="level4">
<h4 class="anchored" data-anchor-id="value-18">Value</h4>
<p>number of months in period</p>
</section>
<section id="examples-18" class="level4">
<h4 class="anchored" data-anchor-id="examples-18">Examples</h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qtrs</span>(<span class="dv">3</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">ymd</span>(<span class="st">"2020-01-01"</span>) <span class="sc">+</span> <span class="fu">qtrs</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsp" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsp">fcutils::p()</h3>
<section id="description-19" class="level4">
<h4 class="anchored" data-anchor-id="description-19">Description</h4>
<p>Concatenate dates to obtain period</p>
</section>
<section id="usage-19" class="level4">
<h4 class="anchored" data-anchor-id="usage-19">Usage</h4>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-19" class="level4">
<h4 class="anchored" data-anchor-id="arguments-19">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">date of period start (string: see examples)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">date of period end (string: see examples)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-19" class="level4">
<h4 class="anchored" data-anchor-id="value-19">Value</h4>
<p>string containing date range</p>
</section>
<section id="examples-19" class="level4">
<h4 class="anchored" data-anchor-id="examples-19">Examples</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2020-01-01"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="dv">20100101</span>, <span class="dv">20200101</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="fl">2010.1</span>, <span class="fl">2020.4</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(,<span class="fl">2020.4</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="st">"2010Q1"</span>, <span class="st">"2020Q4"</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="fu">p</span>(<span class="dv">2010</span>, <span class="dv">2020</span>) <span class="do">## for annual period only</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspm" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspm">fcutils::pm()</h3>
<section id="description-20" class="level4">
<h4 class="anchored" data-anchor-id="description-20">Description</h4>
<p>Concatenate dates formatted as yyyyMm or yyyy.m to obtain period</p>
</section>
<section id="usage-20" class="level4">
<h4 class="anchored" data-anchor-id="usage-20">Usage</h4>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pm</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-20" class="level4">
<h4 class="anchored" data-anchor-id="arguments-20">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">date of period start (string: yyyyMm or yyyy.m)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">date of period end (string: yyyyMm or yyyy.m)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-20" class="level4">
<h4 class="anchored" data-anchor-id="value-20">Value</h4>
<p>string containing date range</p>
</section>
<section id="examples-20" class="level4">
<h4 class="anchored" data-anchor-id="examples-20">Examples</h4>
<div class="sourceCode" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pm</span>(<span class="st">"2010M1"</span>, <span class="st">"2020M4"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pm</span>(<span class="fl">2010.1</span>, <span class="fl">2020.4</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pm</span>(<span class="fl">2010.1</span>, )</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pm</span>(, <span class="fl">2010.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspq" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspq">fcutils::pq()</h3>
<section id="description-21" class="level4">
<h4 class="anchored" data-anchor-id="description-21">Description</h4>
<p>Concatenate dates formatted as yyyyQq or yyyy.q to obtain period</p>
</section>
<section id="usage-21" class="level4">
<h4 class="anchored" data-anchor-id="usage-21">Usage</h4>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pq</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-21" class="level4">
<h4 class="anchored" data-anchor-id="arguments-21">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">date of period start (string: yyyyQq or yyyy.q)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">date of period end (string: yyyyQq or yyyy.q)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-21" class="level4">
<h4 class="anchored" data-anchor-id="value-21">Value</h4>
<p>string containing date range</p>
</section>
<section id="examples-21" class="level4">
<h4 class="anchored" data-anchor-id="examples-21">Examples</h4>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pq</span>(<span class="st">"2010Q1"</span>, <span class="st">"2020Q4"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pq</span>(<span class="fl">2010.1</span>, <span class="fl">2020.4</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pq</span>(<span class="fl">2010.1</span>, )</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pq</span>(, <span class="fl">2010.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspy" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspy">fcutils::py()</h3>
<section id="description-22" class="level4">
<h4 class="anchored" data-anchor-id="description-22">Description</h4>
<p>Concatenate dates formatted as yyyy to obtain period</p>
</section>
<section id="usage-22" class="level4">
<h4 class="anchored" data-anchor-id="usage-22">Usage</h4>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">py</span>(<span class="at">dat1 =</span> <span class="st">""</span>, <span class="at">dat2 =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-22" class="level4">
<h4 class="anchored" data-anchor-id="arguments-22">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="dat1">dat1</code></td>
<td style="text-align: left;">year of period start (string or numeric: yyyy)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="dat2">dat2</code></td>
<td style="text-align: left;">year of period end (string or numeric: yyyy)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-22" class="level4">
<h4 class="anchored" data-anchor-id="value-22">Value</h4>
<p>string containing date range</p>
</section>
<section id="examples-22" class="level4">
<h4 class="anchored" data-anchor-id="examples-22">Examples</h4>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">py</span>(<span class="st">"2010"</span>, <span class="st">"2020"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">py</span>(<span class="dv">2010</span>, <span class="dv">2020</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fu">py</span>(<span class="dv">2010</span>, )</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="fu">py</span>(, <span class="dv">2010</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsto_ymd" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsto_ymd">fcutils::to_ymd()</h3>
<section id="description-23" class="level4">
<h4 class="anchored" data-anchor-id="description-23">Description</h4>
<p>Parse strings into dates in yyyy-mm-dd format</p>
</section>
<section id="usage-23" class="level4">
<h4 class="anchored" data-anchor-id="usage-23">Usage</h4>
<div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">to_ymd</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-23" class="level4">
<h4 class="anchored" data-anchor-id="arguments-23">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">string (string: yyyymmdd, yyyyqq, yyyy.q, yyyy)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-23" class="level4">
<h4 class="anchored" data-anchor-id="value-23">Value</h4>
<p>formatted dates (yyyy-mm-dd)</p>
</section>
<section id="examples-23" class="level4">
<h4 class="anchored" data-anchor-id="examples-23">Examples</h4>
<div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">to_ymd</span>(<span class="fu">c</span>(<span class="st">"2010.0211"</span>, <span class="dv">202002</span>, <span class="fl">2020.2</span>, <span class="st">"2020"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsymd_to_yqq" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsymd_to_yqq">fcutils::ymd_to_yQq()</h3>
<section id="description-24" class="level4">
<h4 class="anchored" data-anchor-id="description-24">Description</h4>
<p>Convert dates from yyyy-mm-dd to yyyyQqq format</p>
</section>
<section id="usage-24" class="level4">
<h4 class="anchored" data-anchor-id="usage-24">Usage</h4>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_to_yQq</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-24" class="level4">
<h4 class="anchored" data-anchor-id="arguments-24">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">dates (string: yyyy-mm-dd)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-24" class="level4">
<h4 class="anchored" data-anchor-id="value-24">Value</h4>
<p>formatted dates (string: yyyyQqq)</p>
</section>
<section id="examples-24" class="level4">
<h4 class="anchored" data-anchor-id="examples-24">Examples</h4>
<div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_to_yQq</span>(<span class="fu">c</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2020-10-01"</span>))</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_to_yQq</span>(<span class="fu">c</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2020-10-01"</span>)) <span class="sc">|&gt;</span> lubridate<span class="sc">::</span><span class="fu">yq</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="frequency-conversion" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="frequency-conversion"><span class="header-section-number">6.3</span> Frequency conversion</h2>
<section id="tsboxts_frequency" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_frequency">tsbox::ts_frequency()</h3>
<section id="description-25" class="level4">
<h4 class="anchored" data-anchor-id="description-25">Description</h4>
<p>Changes the frequency of a time series. By default, incomplete periods of regular series are omitted.</p>
</section>
<section id="usage-25" class="level4">
<h4 class="anchored" data-anchor-id="usage-25">Usage</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"quarter"</span>, <span class="st">"month"</span>, <span class="st">"week"</span>, <span class="st">"day"</span>, <span class="st">"hour"</span>, <span class="st">"min"</span>, <span class="st">"sec"</span>),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">aggregate =</span> <span class="st">"mean"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-25" class="level4">
<h4 class="anchored" data-anchor-id="arguments-25">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="to">to</code></td>
<td style="text-align: left;">desired frequency, either a character string (<code>"year"</code>, <code>"quarter"</code>, <code>"month"</code>) or an integer (<code>1</code>, <code>4</code>, <code>12</code>).</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="aggregate">aggregate</code></td>
<td style="text-align: left;">character string, or function. Either <code>"mean"</code>, <code>"sum"</code>, <code>"first"</code>, or <code>"last"</code>, or any aggregate function, such as <code>base::mean()</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="na.rm">na.rm</code></td>
<td style="text-align: left;">logical, if <code>TRUE</code>, incomplete periods are aggregated as well. For irregular series, incomplete periods are always aggregated.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-9" class="level4">
<h4 class="anchored" data-anchor-id="details-9">Details</h4>
<p>The <a href="https://CRAN.R-project.org/package=tempdisagg">tempdisagg package</a> can convert low frequency to high frequency data and has support for ts-boxable objects. See <code>vignette("hf-disagg", package = "tempdisagg")</code>.</p>
</section>
<section id="value-25" class="level4">
<h4 class="anchored" data-anchor-id="value-25">Value</h4>
<p>a ts-boxable time series, with the same class as the input.</p>
</section>
<section id="examples-25" class="level4">
<h4 class="anchored" data-anchor-id="examples-25">Examples</h4>
<div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(<span class="fu">cbind</span>(mdeaths, fdeaths), <span class="st">"year"</span>, <span class="st">"sum"</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(<span class="fu">cbind</span>(mdeaths, fdeaths), <span class="st">"quarter"</span>, <span class="st">"last"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(AirPassengers, <span class="dv">4</span>, <span class="st">"sum"</span>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Note that incomplete years are omited by default</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(EuStockMarkets, <span class="st">"year"</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_frequency</span>(EuStockMarkets, <span class="st">"year"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsdisagg" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsdisagg">fcutils::disagg()</h3>
<section id="description-26" class="level4">
<h4 class="anchored" data-anchor-id="description-26">Description</h4>
<p>Interpolate univariate or multivariate time series from low to high frequency</p>
</section>
<section id="usage-26" class="level4">
<h4 class="anchored" data-anchor-id="usage-26">Usage</h4>
<div class="sourceCode" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">disagg</span>(x, <span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"quarter"</span>, <span class="at">pattern =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-26" class="level4">
<h4 class="anchored" data-anchor-id="arguments-26">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a tx-boxable object at a low frequency (e.g.&nbsp;annual or quarterly)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="conv_type">conv_type</code></td>
<td style="text-align: left;">match the quarterly value via "first", "last", "sum", "mean"</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="target_freq">target_freq</code></td>
<td style="text-align: left;">target frequency "quarter" or "month"</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="pattern">pattern</code></td>
<td style="text-align: left;">a single high-frequency pattern that the interpolation should follow</td>
</tr>
</tbody>
</table>
</section>
<section id="details-10" class="level4">
<h4 class="anchored" data-anchor-id="details-10">Details</h4>
<p>the time-span of the high-frequency pattern has to match or be larger than the time-span of the low frequency series. NA values are not allowed.</p>
</section>
<section id="value-26" class="level4">
<h4 class="anchored" data-anchor-id="value-26">Value</h4>
<p>interpolated object of the same type as the input</p>
</section>
<section id="examples-26" class="level4">
<h4 class="anchored" data-anchor-id="examples-26">Examples</h4>
<div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">disagg</span>(<span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"month"</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">disagg</span>(<span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"month"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_frequency</span>(<span class="at">to =</span> <span class="st">"quarter"</span>, <span class="at">aggregate =</span> <span class="st">"mean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_wide</span>() <span class="do">## this matches original data</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="do">## works with a single series too</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">disagg</span>(<span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"month"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_plot</span>()</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="do">## using a high-frequency pattern</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_span</span>(<span class="st">"2005-01-01"</span>, <span class="st">"2020-01-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">disagg</span>(</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"month"</span>, <span class="at">pattern =</span> monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>      tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>      tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VISNS_HI"</span>)</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a><span class="do">## multiple low-frequency series, same number of high-frequency patterns</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map2</span>(</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>  quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>, <span class="st">"ECT_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_span</span>(<span class="st">"2005-01-01"</span>, <span class="st">"2020-01-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>(),</span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>  monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>(),</span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">disagg</span>(.x, <span class="at">conv_type =</span> <span class="st">"mean"</span>, <span class="at">target_freq =</span> <span class="st">"month"</span>, <span class="at">pattern =</span> .y)</span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsqtoa" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsqtoa">fcutils::QtoA()</h3>
<section id="description-27" class="level4">
<h4 class="anchored" data-anchor-id="description-27">Description</h4>
<p>Aggregate from quarterly to annual frequency (superseded by tsbox::ts_frequency())</p>
</section>
<section id="usage-27" class="level4">
<h4 class="anchored" data-anchor-id="usage-27">Usage</h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">QtoA</span>(ser_in, <span class="at">aggr =</span> <span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-27" class="level4">
<h4 class="anchored" data-anchor-id="arguments-27">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="ser_in">ser_in</code></td>
<td style="text-align: left;">the xts series to be converted (freq = q)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="aggr">aggr</code></td>
<td style="text-align: left;">aggregate via mean (default) or sum</td>
</tr>
</tbody>
</table>
</section>
<section id="value-27" class="level4">
<h4 class="anchored" data-anchor-id="value-27">Value</h4>
<p>converted xts series (freq = a)</p>
</section>
<section id="examples-27" class="level4">
<h4 class="anchored" data-anchor-id="examples-27">Examples</h4>
<div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">QtoA</span>() <span class="sc">|&gt;</span> <span class="do">## this matches with below</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">AtoQ</span>() <span class="sc">|&gt;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">QtoA</span>() <span class="sc">|&gt;</span> <span class="do">## this matches with above</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsatoq" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsatoq">fcutils::AtoQ()</h3>
<section id="description-28" class="level4">
<h4 class="anchored" data-anchor-id="description-28">Description</h4>
<p>Linear interpolation based on AREMOS command reference page 292 (superseded by disagg())</p>
</section>
<section id="usage-28" class="level4">
<h4 class="anchored" data-anchor-id="usage-28">Usage</h4>
<div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AtoQ</span>(ser_in, <span class="at">aggr =</span> <span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-28" class="level4">
<h4 class="anchored" data-anchor-id="arguments-28">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="ser_in">ser_in</code></td>
<td style="text-align: left;">the xts series to be interpolated (freq = a)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="aggr">aggr</code></td>
<td style="text-align: left;">interpolation method: aggregate via mean (default) or sum</td>
</tr>
</tbody>
</table>
</section>
<section id="value-28" class="level4">
<h4 class="anchored" data-anchor-id="value-28">Value</h4>
<p>interpolated xts series (freq = q)</p>
</section>
<section id="examples-28" class="level4">
<h4 class="anchored" data-anchor-id="examples-28">Examples</h4>
<div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">QtoA</span>() <span class="sc">|&gt;</span> <span class="do">## this matches with below</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">AtoQ</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">QtoA</span>() <span class="sc">|&gt;</span> <span class="do">## this matches with above</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="growth-rates-and-level-operations" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="growth-rates-and-level-operations"><span class="header-section-number">6.4</span> Growth rates and level operations</h2>
<section id="tsboxts_pc" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_pc">tsbox::ts_pc()</h3>
<section id="description-29" class="level4">
<h4 class="anchored" data-anchor-id="description-29">Description</h4>
<p><code>ts_pcy</code> and <code>ts_diffy</code> calculate the percentage change rate and the difference compared to the previous period, <code>ts_pcy</code> and <code>ts_diffy</code> calculate the percentage change rate compared to the same period of the previous year. <code>ts_pca</code> calculates annualized percentage change rates compared to the previous period.</p>
</section>
<section id="usage-29" class="level4">
<h4 class="anchored" data-anchor-id="usage-29">Usage</h4>
<div class="sourceCode" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pc</span>(x)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_diff</span>(x)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pca</span>(x)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pcy</span>(x)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_diffy</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-29" class="level4">
<h4 class="anchored" data-anchor-id="arguments-29">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-29" class="level4">
<h4 class="anchored" data-anchor-id="value-29">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-29" class="level4">
<h4 class="anchored" data-anchor-id="examples-29">Examples</h4>
<div class="sourceCode" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_c</span>(fdeaths, mdeaths)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_diff</span>(x)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pc</span>(x)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pca</span>(x)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pcy</span>(x)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_diffy</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_lag" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_lag">tsbox::ts_lag()</h3>
<section id="description-30" class="level4">
<h4 class="anchored" data-anchor-id="description-30">Description</h4>
<p>Shift time stamps in ts-boxable time series, either by a number of periods or by a fixed amount of time.</p>
</section>
<section id="usage-30" class="level4">
<h4 class="anchored" data-anchor-id="usage-30">Usage</h4>
<div class="sourceCode" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(x, <span class="at">by =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-30" class="level4">
<h4 class="anchored" data-anchor-id="arguments-30">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="by">by</code></td>
<td style="text-align: left;">integer or character, either the number of shifting periods (integer), or an absolute amount of time (character). See details.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-11" class="level4">
<h4 class="anchored" data-anchor-id="details-11">Details</h4>
<p>The lag order, <code>by</code>, is defined the opposite way as in R base. Thus, -1 is a lead and +1 a lag.</p>
<p>If <code>by</code> is integer, the time stamp is shifted by the number of periods. This requires the series to be regular.</p>
<p>If <code>by</code> is character, the time stamp is shifted by a specific amount of time. This can be one of one of <code>"sec"</code>, <code>"min"</code>, <code>"hour"</code>, <code>"day"</code>, <code>"week"</code>, <code>"month"</code>, <code style="white-space: pre;">⁠"quarter" or ⁠</code>"year", optionally preceded by a (positive or negative) integer and a space, or followed by plural "s". This is passed to <code>base::seq.Date()</code>. This does not require the series to be regular.</p>
</section>
<section id="value-30" class="level4">
<h4 class="anchored" data-anchor-id="value-30">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-30" class="level4">
<h4 class="anchored" data-anchor-id="examples-30">Examples</h4>
<div class="sourceCode" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(AirPassengers, <span class="fu">ts_lag</span>(AirPassengers), <span class="at">title =</span> <span class="st">"The need for glasses"</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(fdeaths, <span class="st">"1 month"</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(fdeaths, <span class="st">"1 year"</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(fdeaths)</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(x, <span class="st">"2 day"</span>)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(x, <span class="st">"2 min"</span>)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lag</span>(x, <span class="st">"-1 day"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_arithmetic" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_arithmetic">tsbox::ts_arithmetic()</h3>
<section id="description-31" class="level4">
<h4 class="anchored" data-anchor-id="description-31">Description</h4>
<p>Arithmetic Operators for ts-boxable objects</p>
</section>
<section id="usage-31" class="level4">
<h4 class="anchored" data-anchor-id="usage-31">Usage</h4>
<div class="sourceCode" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>e1 <span class="sc">%ts+%</span> e2</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>e1 <span class="sc">%ts-%</span> e2</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>e1 <span class="sc">%ts*%</span> e2</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>e1 <span class="sc">%ts/%</span> e2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-31" class="level4">
<h4 class="anchored" data-anchor-id="arguments-31">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="e1">e1</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="e2">e2</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-31" class="level4">
<h4 class="anchored" data-anchor-id="value-31">Value</h4>
<p>a ts-boxable time series, with the same class as the left input.</p>
</section>
<section id="examples-31" class="level4">
<h4 class="anchored" data-anchor-id="examples-31">Examples</h4>
<div class="sourceCode" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fdeaths <span class="sc">-</span> mdeaths)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fdeaths <span class="sc">%ts-%</span> mdeaths)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">ts_df</span>(fdeaths) <span class="sc">%ts-%</span> mdeaths)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_scale" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_scale">tsbox::ts_scale()</h3>
<section id="description-32" class="level4">
<h4 class="anchored" data-anchor-id="description-32">Description</h4>
<p>Subtract mean (<em>sum(x)/n</em>) and divide by standard deviation (<em>sqrt(sum(x^2)/(n-1))</em>). Based on <code>base::scale()</code>.</p>
</section>
<section id="usage-32" class="level4">
<h4 class="anchored" data-anchor-id="usage-32">Usage</h4>
<div class="sourceCode" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_scale</span>(x, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-32" class="level4">
<h4 class="anchored" data-anchor-id="arguments-32">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="center">center</code></td>
<td style="text-align: left;">logical</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="scale">scale</code></td>
<td style="text-align: left;">logical</td>
</tr>
</tbody>
</table>
</section>
<section id="value-32" class="level4">
<h4 class="anchored" data-anchor-id="value-32">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-32" class="level4">
<h4 class="anchored" data-anchor-id="examples-32">Examples</h4>
<div class="sourceCode" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_scale</span>((<span class="fu">ts_c</span>(airmiles, co2, JohnsonJohnson, discoveries))))</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_scale</span>(<span class="fu">ts_c</span>(AirPassengers, <span class="at">DAX =</span> EuStockMarkets[, <span class="st">"DAX"</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_trend" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_trend">tsbox::ts_trend()</h3>
<section id="description-33" class="level4">
<h4 class="anchored" data-anchor-id="description-33">Description</h4>
<p>Trend estimation that uses <code>stats::loess()</code>.</p>
</section>
<section id="usage-33" class="level4">
<h4 class="anchored" data-anchor-id="usage-33">Usage</h4>
<div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_trend</span>(x, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-33" class="level4">
<h4 class="anchored" data-anchor-id="arguments-33">Arguments</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><code id="x">x</code></td>
<td>ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td><code id="...">...</code></td>
<td><p>arguments, passed to <code>stats::loess()</code>:</p>
<ul>
<li><p><code>degree</code> degree of Loess smoothing</p></li>
<li><p><code>span</code> smoothing parameter, if <code>NULL</code>, an automated search performed (see Details)</p></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="value-33" class="level4">
<h4 class="anchored" data-anchor-id="value-33">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="references" class="level4">
<h4 class="anchored" data-anchor-id="references">References</h4>
<p>Cleveland, William S., Eric Grosse, and William M. Shyu. "Local regression models." Statistical models in S. Routledge, 2017. 309-376.</p>
</section>
<section id="examples-33" class="level4">
<h4 class="anchored" data-anchor-id="examples-33">Examples</h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Raw series</span><span class="st">`</span> <span class="ot">=</span> fdeaths,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Loess trend</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ts_trend</span>(fdeaths),</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Deaths from Lung Diseases"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"per month"</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_bind" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_bind">tsbox::ts_bind()</h3>
<section id="description-34" class="level4">
<h4 class="anchored" data-anchor-id="description-34">Description</h4>
<p>Combine time series to a new, single time series. <code>ts_bind</code> combines time series as they are, <code>ts_chain</code> chains them together, using percentage change rates.</p>
</section>
<section id="usage-34" class="level4">
<h4 class="anchored" data-anchor-id="usage-34">Usage</h4>
<div class="sourceCode" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(...)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_chain</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-34" class="level4">
<h4 class="anchored" data-anchor-id="arguments-34">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-12" class="level4">
<h4 class="anchored" data-anchor-id="details-12">Details</h4>
<p>In data frame objects, multiple time series are stored in a long data frame. In <code>ts</code> and <code>xts</code> objects, time series are combined horizontally.</p>
</section>
<section id="value-34" class="level4">
<h4 class="anchored" data-anchor-id="value-34">Value</h4>
<p>a ts-boxable object of the same class as the input, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>. If series of different classes are combined, the class of the first series is used (if possible).</p>
</section>
<section id="see-also-1" class="level4">
<h4 class="anchored" data-anchor-id="see-also-1">See Also</h4>
<p>ts_c to collect multiple time series</p>
</section>
<section id="examples-34" class="level4">
<h4 class="anchored" data-anchor-id="examples-34">Examples</h4>
<div class="sourceCode" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(<span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"1975-12-01"</span>), fdeaths)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(mdeaths, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(mdeaths, <span class="dv">3</span>, <span class="fu">ts_bind</span>(fdeaths, <span class="fu">c</span>(<span class="dv">99</span>, <span class="dv">2</span>)))</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(<span class="fu">ts_dt</span>(mdeaths), AirPassengers)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="do">## numeric vectors</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_bind</span>(<span class="dv">12</span>, AirPassengers, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_chain</span>(<span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"1975-12-01"</span>), fdeaths)</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_pc</span>(<span class="fu">ts_c</span>(</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">comb =</span> <span class="fu">ts_chain</span>(<span class="fu">ts_span</span>(mdeaths, <span class="at">end =</span> <span class="st">"1975-12-01"</span>), fdeaths),</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  fdeaths</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_index" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_index">tsbox::ts_index()</h3>
<section id="description-35" class="level4">
<h4 class="anchored" data-anchor-id="description-35">Description</h4>
<p><code>ts_index</code> returns an indexed series, with value of 1 at the <code>base</code> date or range. <code>ts_compound</code> builds an index from percentage change rates, starting with 1 and compounding the rates.</p>
</section>
<section id="usage-35" class="level4">
<h4 class="anchored" data-anchor-id="usage-35">Usage</h4>
<div class="sourceCode" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_compound</span>(x, <span class="at">denominator =</span> <span class="dv">100</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_index</span>(x, <span class="at">base =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-35" class="level4">
<h4 class="anchored" data-anchor-id="arguments-35">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="denominator">denominator</code></td>
<td style="text-align: left;">positive number. Set equal to 1 if percentage change rate is given a decimal fraction</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="base">base</code></td>
<td style="text-align: left;">base date, character string, <code>Date</code> or <code>POSIXct</code>, at which the index is set to 1. If two dates are provided, the mean in the range is set equal to 1 (see examples).</td>
</tr>
</tbody>
</table>
</section>
<section id="value-35" class="level4">
<h4 class="anchored" data-anchor-id="value-35">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-35" class="level4">
<h4 class="anchored" data-anchor-id="examples-35">Examples</h4>
<div class="sourceCode" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_pc</span>(<span class="fu">ts_c</span>(fdeaths, mdeaths))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_compound</span>(x)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(<span class="fu">ts_c</span>(fdeaths, mdeaths))</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_index</span>(y, <span class="st">"1974-02-01"</span>)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">My Expert Knowledge</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ts_chain</span>(</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    mdeaths,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ts_compound</span>(<span class="fu">ts_bind</span>(<span class="fu">ts_pc</span>(mdeaths), <span class="dv">15</span>, <span class="dv">23</span>, <span class="dv">33</span>))</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">So Far</span><span class="st">`</span> <span class="ot">=</span> mdeaths,</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"A Very Manual Forecast"</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a><span class="do">## mean of 1974 = 1</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_index</span>(mdeaths, <span class="fu">c</span>(<span class="st">"1974-01-01"</span>, <span class="st">"1974-12-31"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsindex" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsindex">fcutils::index()</h3>
<section id="description-36" class="level4">
<h4 class="anchored" data-anchor-id="description-36">Description</h4>
<p>Get indexed series (wrapper around tsbox::ts_index())</p>
</section>
<section id="usage-36" class="level4">
<h4 class="anchored" data-anchor-id="usage-36">Usage</h4>
<div class="sourceCode" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index</span>(x, <span class="at">base_per =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>()), <span class="at">base_value =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-36" class="level4">
<h4 class="anchored" data-anchor-id="arguments-36">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to be indexed</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="base_per">base_per</code></td>
<td style="text-align: left;">base date when the index is set to base_value (see examples). If two dates are provided, the mean in the range is set equal to base_value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="base_value">base_value</code></td>
<td style="text-align: left;">numeric value of the index at base_per (e.g.&nbsp;1 or 100)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-36" class="level4">
<h4 class="anchored" data-anchor-id="value-36">Value</h4>
<p>indexed object of the same type as the input</p>
</section>
<section id="examples-36" class="level4">
<h4 class="anchored" data-anchor-id="examples-36">Examples</h4>
<div class="sourceCode" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">index</span>(<span class="fl">2010.1</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">index</span>(<span class="fu">c</span>(<span class="fl">2010.1</span>, <span class="fl">2010.4</span>))</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">index</span>(<span class="fu">c</span>(<span class="st">"2010-01-01"</span>, <span class="st">"2010-12-31"</span>), <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsma" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsma">fcutils::ma()</h3>
<section id="description-37" class="level4">
<h4 class="anchored" data-anchor-id="description-37">Description</h4>
<p>Backward looking moving average</p>
</section>
<section id="usage-37" class="level4">
<h4 class="anchored" data-anchor-id="usage-37">Usage</h4>
<div class="sourceCode" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ma</span>(x, order)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-37" class="level4">
<h4 class="anchored" data-anchor-id="arguments-37">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="order">order</code></td>
<td style="text-align: left;">numeric order (window length) of moving average, includes contemporaneous observation</td>
</tr>
</tbody>
</table>
</section>
<section id="value-37" class="level4">
<h4 class="anchored" data-anchor-id="value-37">Value</h4>
<p>object of the same type as the input containing moving average</p>
</section>
<section id="examples-37" class="level4">
<h4 class="anchored" data-anchor-id="examples-37">Examples</h4>
<div class="sourceCode" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ma</span>(<span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsyoy_to_lev" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsyoy_to_lev">fcutils::yoy_to_lev()</h3>
<section id="description-38" class="level4">
<h4 class="anchored" data-anchor-id="description-38">Description</h4>
<p>Extend a series using year over year growth</p>
</section>
<section id="usage-38" class="level4">
<h4 class="anchored" data-anchor-id="usage-38">Usage</h4>
<div class="sourceCode" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yoy_to_lev</span>(yoy_gr, hist_lev, <span class="at">smooth_span =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-38" class="level4">
<h4 class="anchored" data-anchor-id="arguments-38">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="yoy_gr">yoy_gr</code></td>
<td style="text-align: left;">ts-boxable object containing year over year growth rates</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="hist_lev">hist_lev</code></td>
<td style="text-align: left;">ts-boxable object containing the history in levels for forecast and at least one year of history (in percent)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="smooth_span">smooth_span</code></td>
<td style="text-align: left;">extent of smoothing between 0-1 (default: 0, no smoothing)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-13" class="level4">
<h4 class="anchored" data-anchor-id="details-13">Details</h4>
<p>This function only works for univariate time series and requires that the growth rates are available for at least the last year of history. Year-over-year growth rates propagate the fluctuations of the base period into the extension period. This can be mitigated by smoothing the extension.</p>
</section>
<section id="value-38" class="level4">
<h4 class="anchored" data-anchor-id="value-38">Value</h4>
<p>object of the same type as hist_lev extended with year over year growth</p>
</section>
<section id="examples-38" class="level4">
<h4 class="anchored" data-anchor-id="examples-38">Examples</h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>gr <span class="ot">&lt;-</span> quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(id <span class="sc">==</span> <span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pcy</span>()</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>lev <span class="ot">&lt;-</span> quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(id <span class="sc">==</span> <span class="st">"ECT_HI"</span>)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span> <span class="fu">yoy_to_lev</span>(gr, lev <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(time <span class="sc">&lt;=</span> <span class="st">"2010-01-01"</span>))</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">&lt;-</span> <span class="fu">yoy_to_lev</span>(gr, lev <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(time <span class="sc">&lt;=</span> <span class="st">"2010-01-01"</span>), <span class="dv">1</span><span class="sc">/</span><span class="dv">8</span>)</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>tsbox<span class="sc">::</span><span class="fu">ts_plot</span>(lev, res1, res2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsmtd_cum" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsmtd_cum">fcutils::mtd_cum()</h3>
<section id="description-39" class="level4">
<h4 class="anchored" data-anchor-id="description-39">Description</h4>
<p>Month to date sum or average</p>
</section>
<section id="usage-39" class="level4">
<h4 class="anchored" data-anchor-id="usage-39">Usage</h4>
<div class="sourceCode" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mtd_cum</span>(x, <span class="at">avg =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-39" class="level4">
<h4 class="anchored" data-anchor-id="arguments-39">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="avg">avg</code></td>
<td style="text-align: left;">if TRUE (default), return month to date average, if FALSE, return month to date sum</td>
</tr>
</tbody>
</table>
</section>
<section id="value-39" class="level4">
<h4 class="anchored" data-anchor-id="value-39">Value</h4>
<p>object of the same type as the input containing year to date sum or average</p>
</section>
<section id="examples-39" class="level4">
<h4 class="anchored" data-anchor-id="examples-39">Examples</h4>
<div class="sourceCode" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtd_cum</span>()</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VAPNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtd_cum</span>()</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>tsbox<span class="sc">::</span><span class="st">`</span><span class="at">%ts/%</span><span class="st">`</span>(test, tsbox<span class="sc">::</span><span class="fu">ts_lag</span>(test, <span class="st">"6 months"</span>)) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsmtd_gr" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsmtd_gr">fcutils::mtd_gr()</h3>
<section id="description-40" class="level4">
<h4 class="anchored" data-anchor-id="description-40">Description</h4>
<p>Month to date growth rate</p>
</section>
<section id="usage-40" class="level4">
<h4 class="anchored" data-anchor-id="usage-40">Usage</h4>
<div class="sourceCode" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mtd_gr</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-40" class="level4">
<h4 class="anchored" data-anchor-id="arguments-40">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
</tbody>
</table>
</section>
<section id="value-40" class="level4">
<h4 class="anchored" data-anchor-id="value-40">Value</h4>
<p>object of the same type as the input containing month to date growth rate</p>
</section>
<section id="examples-40" class="level4">
<h4 class="anchored" data-anchor-id="examples-40">Examples</h4>
<div class="sourceCode" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtd_gr</span>() <span class="sc">|&gt;</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsytd_cum" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsytd_cum">fcutils::ytd_cum()</h3>
<section id="description-41" class="level4">
<h4 class="anchored" data-anchor-id="description-41">Description</h4>
<p>Year to date sum or average</p>
</section>
<section id="usage-41" class="level4">
<h4 class="anchored" data-anchor-id="usage-41">Usage</h4>
<div class="sourceCode" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ytd_cum</span>(x, <span class="at">avg =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-41" class="level4">
<h4 class="anchored" data-anchor-id="arguments-41">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="avg">avg</code></td>
<td style="text-align: left;">if TRUE (default), return year to date average, if FALSE, return year to date sum</td>
</tr>
</tbody>
</table>
</section>
<section id="value-41" class="level4">
<h4 class="anchored" data-anchor-id="value-41">Value</h4>
<p>object of the same type as the input containing year to date sum or average</p>
</section>
<section id="examples-41" class="level4">
<h4 class="anchored" data-anchor-id="examples-41">Examples</h4>
<div class="sourceCode" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ytd_cum</span>()</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VISNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ytd_cum</span>(<span class="at">avg =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsytd_gr" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsytd_gr">fcutils::ytd_gr()</h3>
<section id="description-42" class="level4">
<h4 class="anchored" data-anchor-id="description-42">Description</h4>
<p>Year to date growth rate</p>
</section>
<section id="usage-42" class="level4">
<h4 class="anchored" data-anchor-id="usage-42">Usage</h4>
<div class="sourceCode" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ytd_gr</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-42" class="level4">
<h4 class="anchored" data-anchor-id="arguments-42">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
</tbody>
</table>
</section>
<section id="value-42" class="level4">
<h4 class="anchored" data-anchor-id="value-42">Value</h4>
<p>object of the same type as the input containing year to date growth rate</p>
</section>
<section id="examples-42" class="level4">
<h4 class="anchored" data-anchor-id="examples-42">Examples</h4>
<div class="sourceCode" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VISNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ytd_gr</span>() <span class="sc">|&gt;</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsptd_cum" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsptd_cum">fcutils::ptd_cum()</h3>
<section id="description-43" class="level4">
<h4 class="anchored" data-anchor-id="description-43">Description</h4>
<p>Period to date sum or average</p>
</section>
<section id="usage-43" class="level4">
<h4 class="anchored" data-anchor-id="usage-43">Usage</h4>
<div class="sourceCode" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ptd_cum</span>(x, <span class="at">per =</span> <span class="st">"year"</span>, <span class="at">avg =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-43" class="level4">
<h4 class="anchored" data-anchor-id="arguments-43">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="per">per</code></td>
<td style="text-align: left;">unit of time supplied to floor_date() (for ytd per = "year" (default), for mtd per = "month")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="avg">avg</code></td>
<td style="text-align: left;">if TRUE (default), retorn period to date average, if FALSE, return period to date sum</td>
</tr>
</tbody>
</table>
</section>
<section id="value-43" class="level4">
<h4 class="anchored" data-anchor-id="value-43">Value</h4>
<p>object of the same type as the input containing period to date sum or average</p>
</section>
<section id="examples-43" class="level4">
<h4 class="anchored" data-anchor-id="examples-43">Examples</h4>
<div class="sourceCode" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_cum</span>(<span class="st">"week"</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VAPNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_cum</span>(<span class="st">"week"</span>)</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>tsbox<span class="sc">::</span><span class="st">`</span><span class="at">%ts/%</span><span class="st">`</span>(test, tsbox<span class="sc">::</span><span class="fu">ts_lag</span>(test, <span class="st">"4 weeks"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="st">`</span><span class="at">%ts-%</span><span class="st">`</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="st">`</span><span class="at">%ts*%</span><span class="st">`</span>(<span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsptd_gr" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsptd_gr">fcutils::ptd_gr()</h3>
<section id="description-44" class="level4">
<h4 class="anchored" data-anchor-id="description-44">Description</h4>
<p>Period to date growth rate</p>
</section>
<section id="usage-44" class="level4">
<h4 class="anchored" data-anchor-id="usage-44">Usage</h4>
<div class="sourceCode" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ptd_gr</span>(x, <span class="at">per =</span> <span class="st">"year"</span>, <span class="at">lag_length =</span> <span class="st">"1 year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-44" class="level4">
<h4 class="anchored" data-anchor-id="arguments-44">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="per">per</code></td>
<td style="text-align: left;">unit of time supplied to floor_date() (for ytd per = "year" (default), for mtd per = "month")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="lag_length">lag_length</code></td>
<td style="text-align: left;">period over which growth is calculated (e.g.&nbsp;"1 year" (default), "3 years", etc. See ?ts_lag() for options)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-44" class="level4">
<h4 class="anchored" data-anchor-id="value-44">Value</h4>
<p>object of the same type as the input containing period to date growth rate</p>
</section>
<section id="examples-44" class="level4">
<h4 class="anchored" data-anchor-id="examples-44">Examples</h4>
<div class="sourceCode" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>() <span class="sc">|&gt;</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(time, <span class="st">"VAPNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>(<span class="at">per =</span> <span class="st">"month"</span>, <span class="at">lag_length =</span> <span class="st">"3 years"</span>) <span class="sc">|&gt;</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="do">## don't use lag_length = "1 year" with weekly data</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>(<span class="st">"week"</span>)</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="do">## lag_length = "52 weeks" instead</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>(<span class="st">"week"</span>, <span class="st">"52 weeks"</span>)</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a><span class="do">## and use lag_length = "364 days" with daily data</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>(<span class="st">"day"</span>, <span class="st">"364 days"</span>)</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>daily_data_example <span class="sc">|&gt;</span></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"VAPNS_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ptd_gr</span>(<span class="st">"week"</span>, <span class="st">"4 weeks"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspca_to_pc" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspca_to_pc">fcutils::pca_to_pc()</h3>
<section id="description-45" class="level4">
<h4 class="anchored" data-anchor-id="description-45">Description</h4>
<p>Convert annualized growth to quarterly growth</p>
</section>
<section id="usage-45" class="level4">
<h4 class="anchored" data-anchor-id="usage-45">Usage</h4>
<div class="sourceCode" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pca_to_pc</span>(x, <span class="at">freq =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-45" class="level4">
<h4 class="anchored" data-anchor-id="arguments-45">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object containing annualized growth (in percent)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="freq">freq</code></td>
<td style="text-align: left;">numeric frequency of the time series e.g.&nbsp;4 for quarterly</td>
</tr>
</tbody>
</table>
</section>
<section id="value-45" class="level4">
<h4 class="anchored" data-anchor-id="value-45">Value</h4>
<p>object of the same type as the input containing quarterly growth (in percent)</p>
</section>
<section id="examples-45" class="level4">
<h4 class="anchored" data-anchor-id="examples-45">Examples</h4>
<div class="sourceCode" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pca</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pca_to_pc</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>tsbox<span class="sc">::</span><span class="fu">ts_c</span>(</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_pca</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pca_to_pc</span>(),</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>  quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_pc</span>()</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(id, time) <span class="sc">|&gt;</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_wide</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspc_to_pca" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspc_to_pca">fcutils::pc_to_pca()</h3>
<section id="description-46" class="level4">
<h4 class="anchored" data-anchor-id="description-46">Description</h4>
<p>Convert quarterly growth to annualized growth</p>
</section>
<section id="usage-46" class="level4">
<h4 class="anchored" data-anchor-id="usage-46">Usage</h4>
<div class="sourceCode" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pc_to_pca</span>(x, <span class="at">freq =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-46" class="level4">
<h4 class="anchored" data-anchor-id="arguments-46">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object containing quarterly growth (in percent)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="freq">freq</code></td>
<td style="text-align: left;">numeric frequency of the time series e.g.&nbsp;4 for quarterly</td>
</tr>
</tbody>
</table>
</section>
<section id="value-46" class="level4">
<h4 class="anchored" data-anchor-id="value-46">Value</h4>
<p>object of the same type as the input containing annualized growth (in percent)</p>
</section>
<section id="examples-46" class="level4">
<h4 class="anchored" data-anchor-id="examples-46">Examples</h4>
<div class="sourceCode" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pc</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pc_to_pca</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>tsbox<span class="sc">::</span><span class="fu">ts_c</span>(</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_pc</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pc_to_pca</span>(),</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>  quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>    tsbox<span class="sc">::</span><span class="fu">ts_pca</span>()</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(id, time) <span class="sc">|&gt;</span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_wide</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilscagr" class="level3">
<h3 class="anchored" data-anchor-id="fcutilscagr">fcutils::cagr()</h3>
<section id="description-47" class="level4">
<h4 class="anchored" data-anchor-id="description-47">Description</h4>
<p>Calculate compund annual growth</p>
</section>
<section id="usage-47" class="level4">
<h4 class="anchored" data-anchor-id="usage-47">Usage</h4>
<div class="sourceCode" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cagr</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-47" class="level4">
<h4 class="anchored" data-anchor-id="arguments-47">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object for which growth is calculated between first and last period</td>
</tr>
</tbody>
</table>
</section>
<section id="value-47" class="level4">
<h4 class="anchored" data-anchor-id="value-47">Value</h4>
<p>a tibble with a single row containing the compound annual growth between the first and last period of x (in percent)</p>
</section>
<section id="examples-47" class="level4">
<h4 class="anchored" data-anchor-id="examples-47">Examples</h4>
<div class="sourceCode" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cagr</span>()</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cagr</span>()</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_span</span>(<span class="st">"2000-01-01"</span>, <span class="st">"2020-01-01"</span>) <span class="sc">|&gt;</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cagr</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilspcmp" class="level3">
<h3 class="anchored" data-anchor-id="fcutilspcmp">fcutils::pcmp()</h3>
<section id="description-48" class="level4">
<h4 class="anchored" data-anchor-id="description-48">Description</h4>
<p>Calculate multi-period average growth</p>
</section>
<section id="usage-48" class="level4">
<h4 class="anchored" data-anchor-id="usage-48">Usage</h4>
<div class="sourceCode" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pcmp</span>(x, <span class="at">lag =</span> <span class="dv">4</span>, <span class="at">comp_freq =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-48" class="level4">
<h4 class="anchored" data-anchor-id="arguments-48">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object for which growth is calculated (in levels)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="lag">lag</code></td>
<td style="text-align: left;">number of periods over which growth is calculated</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="comp_freq">comp_freq</code></td>
<td style="text-align: left;">compounding frequency (1 if period by period, 4 if annualized for quarterly data, etc.)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-48" class="level4">
<h4 class="anchored" data-anchor-id="value-48">Value</h4>
<p>object of the same type as the input ontaining the average growth of x (in percent)</p>
</section>
<section id="examples-48" class="level4">
<h4 class="anchored" data-anchor-id="examples-48">Examples</h4>
<div class="sourceCode" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pcmp</span>(<span class="dv">20</span>) <span class="sc">|&gt;</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pcmp</span>(<span class="dv">4</span>, <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pcmp</span>(<span class="dv">1</span>, <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutils" class="level3">
<h3 class="anchored" data-anchor-id="fcutils">fcutils::<code>%+=%</code>()</h3>
<section id="description-49" class="level4">
<h4 class="anchored" data-anchor-id="description-49">Description</h4>
<p>Warning: Typing x %+=% y/2 returns x &lt;- (x + y)/2. Adding parentheses, i.e.&nbsp;x %+=% (y/2) solves the problem.</p>
</section>
<section id="usage-49" class="level4">
<h4 class="anchored" data-anchor-id="usage-49">Usage</h4>
<div class="sourceCode" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>e1 <span class="sc">%+=%</span> e2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-49" class="level4">
<h4 class="anchored" data-anchor-id="arguments-49">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="e1">e1</code></td>
<td style="text-align: left;">first addend (and returned sum)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="e2">e2</code></td>
<td style="text-align: left;">second addend</td>
</tr>
</tbody>
</table>
</section>
<section id="value-49" class="level4">
<h4 class="anchored" data-anchor-id="value-49">Value</h4>
<p>sum of the two addends replacing the values in the first addend</p>
</section>
<section id="examples-49" class="level4">
<h4 class="anchored" data-anchor-id="examples-49">Examples</h4>
<div class="sourceCode" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>add_QMOD.xts<span class="sc">$</span>VISUS_HI[<span class="fu">pq</span>(<span class="fl">2022.3</span>, <span class="fl">2023.4</span>)] <span class="ot">&lt;-</span> add_QMOD.xts<span class="sc">$</span>VISUS_HI[<span class="fu">pq</span>(<span class="fl">2022.3</span>, <span class="fl">2023.4</span>)] <span class="sc">+</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="sc">-</span><span class="fl">0.04</span>, <span class="fu">rep</span>(<span class="sc">-</span><span class="fl">0.025</span>, <span class="dv">4</span>))</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>add_QMOD.xts<span class="sc">$</span>VISUS_HI[<span class="fu">pq</span>(<span class="fl">2022.3</span>, <span class="fl">2023.4</span>)] <span class="sc">%+=%</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="sc">-</span><span class="fl">0.04</span>, <span class="fu">rep</span>(<span class="sc">-</span><span class="fl">0.025</span>, <span class="dv">4</span>)) <span class="do">## easier on the eye</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="sec-type" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="sec-type"><span class="header-section-number">6.5</span> Data type conversion</h2>
<section id="tsboxts_ts" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_ts">tsbox::ts_ts()</h3>
<section id="description-50" class="level4">
<h4 class="anchored" data-anchor-id="description-50">Description</h4>
<p>tsbox is built around a set of converters, which convert time series stored as <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code> to each other.</p>
</section>
<section id="usage-50" class="level4">
<h4 class="anchored" data-anchor-id="usage-50">Usage</h4>
<div class="sourceCode" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_data.frame</span>(x)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_df</span>(x)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_data.table</span>(x)</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_dt</span>(x)</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tbl</span>(x)</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tibbletime</span>(x)</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_timeSeries</span>(x)</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tis</span>(x)</span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_ts</span>(x)</span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_irts</span>(x)</span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tsibble</span>(x)</span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tslist</span>(x)</span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_xts</span>(x)</span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_zoo</span>(x)</span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_zooreg</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-50" class="level4">
<h4 class="anchored" data-anchor-id="arguments-50">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-14" class="level4">
<h4 class="anchored" data-anchor-id="details-14">Details</h4>
<p>In data frames, multiple time series will be stored in a 'long' format. tsbox detects a <em>value</em>, a <em>time</em> and zero to several <em>id</em> columns. Column detection is done in the following order:</p>
<ol type="1">
<li><p>Starting <strong>on the right</strong>, the first first <code>numeric</code> or <code>integer</code> column is used as <strong>value column</strong>.</p></li>
<li><p>Using the remaining columns, and starting on the right again, the first <code>Date</code>, <code>POSIXct</code>, <code>numeric</code> or <code>character</code> column is used as <strong>time column</strong>. <code>character</code> strings are parsed by <code>anytime::anytime()</code>. The time stamp, <code>time</code>, indicates the beginning of a period.</p></li>
<li><p><strong>All remaining</strong> columns are <strong>id columns</strong>. Each unique combination of id columns points to a time series.</p></li>
</ol>
<p><strong>Alternatively</strong>, the <strong>time</strong> column and the <strong>value</strong> column to be explicitly named as <code>time</code> and <code>value</code>. If explicit names are used, the column order will be ignored.</p>
<p>Whenever possible, tsbox relies on <strong>heuristic time conversion</strong>. When a monthly <code>"ts"</code> time series, e.g., <code>AirPassengers</code>, is converted to a data frame, each time stamp (of class <code>"Date"</code>) is the first day of the month. In most circumstances, this reflects the actual meaning of the data stored in a <code>"ts"</code> object. Technically, of course, this is not correct: <code>"ts"</code> objects divide time in period of equal length, while in reality, February is shorter than January. Heuristic conversion is done for frequencies of 0.1 (decades), 1 (years), 4 (quarters) and 12 (month).</p>
<p>For other frequencies, e.g.&nbsp;260, of <code>EuStockMarkets</code>, tsbox uses <strong>exact time conversion</strong>. The year is divided into 260 equally long units, and time stamp of a period will be a point in time (of class <code>"POSIXct"</code>).</p>
</section>
<section id="value-50" class="level4">
<h4 class="anchored" data-anchor-id="value-50">Value</h4>
<p>ts-boxable time series of the desired class, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-50" class="level4">
<h4 class="anchored" data-anchor-id="examples-50">Examples</h4>
<div class="sourceCode" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>x.ts <span class="ot">&lt;-</span> <span class="fu">ts_c</span>(mdeaths, fdeaths)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>x.ts</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_df</span>(x.ts)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_tbl</span>(x.ts)</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(data.table))</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_dt</span>(x.ts)</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(xts))</span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_xts</span>(x.ts)</span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="do">## heuristic time conversion</span></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 month: approx. 1/12 year</span></span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_df</span>(AirPassengers)</span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a><span class="do">## exact time conversion</span></span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 trading day: exactly 1/260 year</span></span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_df</span>(EuStockMarkets)</span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a><span class="do">## multiple ids</span></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(<span class="fu">ts_c</span>(fdeaths, mdeaths))</span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"level"</span></span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">ts_pc</span>(a)</span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"pc"</span></span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>multi.id.df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(a, b)</span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_ts</span>(multi.id.df)</span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(multi.id.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_long" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_long">tsbox::ts_long()</h3>
<section id="description-51" class="level4">
<h4 class="anchored" data-anchor-id="description-51">Description</h4>
<p>Functions to reshape multiple time series from 'wide' to 'long' and vice versa. Note that long format data frames are ts-boxable objects, where wide format data frames are not. <code>ts_long</code> automatically identifies a <strong>time</strong> column, and uses columns on the left as id columns.</p>
</section>
<section id="usage-51" class="level4">
<h4 class="anchored" data-anchor-id="usage-51">Usage</h4>
<div class="sourceCode" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_long</span>(x)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_wide</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-51" class="level4">
<h4 class="anchored" data-anchor-id="arguments-51">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a ts-boxable time series, or a wide <code>data.frame</code>, <code>data.table</code>, or <code>tibble</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-51" class="level4">
<h4 class="anchored" data-anchor-id="value-51">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-51" class="level4">
<h4 class="anchored" data-anchor-id="examples-51">Examples</h4>
<div class="sourceCode" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(<span class="fu">ts_c</span>(mdeaths, fdeaths))</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>df.wide <span class="ot">&lt;-</span> <span class="fu">ts_wide</span>(x)</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>df.wide</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_long</span>(df.wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsconv_long" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsconv_long">fcutils::conv_long()</h3>
<section id="description-52" class="level4">
<h4 class="anchored" data-anchor-id="description-52">Description</h4>
<p>Convert "ts-boxable" objects to long format (extension of <code>tsbox::ts_long()</code>)</p>
</section>
<section id="usage-52" class="level4">
<h4 class="anchored" data-anchor-id="usage-52">Usage</h4>
<div class="sourceCode" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">conv_long</span>(x, <span class="at">ser_info =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-52" class="level4">
<h4 class="anchored" data-anchor-id="arguments-52">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">a "ts-boxable" object to be converted</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="ser_info">ser_info</code></td>
<td style="text-align: left;">should additional details be returned (TRUE) or only the long format of x (default: FALSE)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-15" class="level4">
<h4 class="anchored" data-anchor-id="details-15">Details</h4>
<p>This function performs a similar operation to <code>tsbox::ts_long()</code>. It converts wide data frames and other ts-boxable objects to the long format (wide data frames are not ts-boxable). An important difference compared with <code>tsbox::ts_long()</code> is that <code>conv_long()</code> ensures that objects containing a single time series get an id column.</p>
</section>
<section id="value-52" class="level4">
<h4 class="anchored" data-anchor-id="value-52">Value</h4>
<p>returns a ts-boxable object in long format with <code>id</code>, <code>time</code> and <code>value</code> columns. if <code>ser_info = TRUE</code>, also returns the following attributes: <code>was_wide</code> is <code>TRUE</code> if x is a wide data frame, <code>FALSE</code> otherwise, and <code>ser_names</code> are the names of the series in x.</p>
</section>
<section id="examples-52" class="level4">
<h4 class="anchored" data-anchor-id="examples-52">Examples</h4>
<div class="sourceCode" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>()</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>()</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>(<span class="at">ser_info =</span> <span class="cn">TRUE</span>)</span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>()</span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_NF_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">conv_long</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsis_wide" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsis_wide">fcutils::is_wide()</h3>
<section id="description-53" class="level4">
<h4 class="anchored" data-anchor-id="description-53">Description</h4>
<p>Check if a data frame is in wide format</p>
</section>
<section id="usage-53" class="level4">
<h4 class="anchored" data-anchor-id="usage-53">Usage</h4>
<div class="sourceCode" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_wide</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-53" class="level4">
<h4 class="anchored" data-anchor-id="arguments-53">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">tibble or data frame</td>
</tr>
</tbody>
</table>
</section>
<section id="value-53" class="level4">
<h4 class="anchored" data-anchor-id="value-53">Value</h4>
<p>returns TRUE for wide format data frame (time and value columns), FALSE otherwise</p>
</section>
<section id="examples-53" class="level4">
<h4 class="anchored" data-anchor-id="examples-53">Examples</h4>
<div class="sourceCode" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span> <span class="fu">is_wide</span>()</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is_wide</span>()</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>dat_in <span class="ot">&lt;-</span> monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>()</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>wide_df <span class="ot">&lt;-</span> <span class="fu">is_wide</span>(dat_in)</span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>x_mod <span class="ot">&lt;-</span> <span class="cf">if</span> (wide_df) tsbox<span class="sc">::</span><span class="fu">ts_long</span>(dat_in) <span class="cf">else</span> tsbox<span class="sc">::</span><span class="fu">ts_tbl</span>(dat_in)</span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>ans <span class="ot">&lt;-</span> <span class="cf">if</span> (wide_df) tsbox<span class="sc">::</span><span class="fu">ts_wide</span>(x_mod) <span class="cf">else</span> tsbox<span class="sc">::</span><span class="fu">copy_class</span>(x_mod, dat_in)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsset_attr_tslist" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsset_attr_tslist">fcutils::set_attr_tslist()</h3>
<section id="description-54" class="level4">
<h4 class="anchored" data-anchor-id="description-54">Description</h4>
<p>Set class attribute to tslist</p>
</section>
<section id="usage-54" class="level4">
<h4 class="anchored" data-anchor-id="usage-54">Usage</h4>
<div class="sourceCode" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_attr_tslist</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-54" class="level4">
<h4 class="anchored" data-anchor-id="arguments-54">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">list, typically a result of purrr::map() applied to a tslist</td>
</tr>
</tbody>
</table>
</section>
<section id="details-16" class="level4">
<h4 class="anchored" data-anchor-id="details-16">Details</h4>
<p>A purrr::map() function applied to a tslist (obtained by tsbox::ts_tslist()) drops the tslist class attribute. This function resets that attribute.</p>
</section>
<section id="value-54" class="level4">
<h4 class="anchored" data-anchor-id="value-54">Value</h4>
<p>list with class attributes set to list and tslist</p>
</section>
<section id="examples-54" class="level4">
<h4 class="anchored" data-anchor-id="examples-54">Examples</h4>
<div class="sourceCode" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_tslist</span>() <span class="sc">|&gt;</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="sc">~</span> .x <span class="sc">/</span> <span class="dv">1000</span>) <span class="sc">|&gt;</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_attr_tslist</span>() <span class="sc">|&gt;</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_tbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_wide</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="sec-field" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="sec-field"><span class="header-section-number">6.6</span> Data field operations</h2>
<section id="tsboxts_c" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_c">tsbox::ts_c()</h3>
<section id="description-55" class="level4">
<h4 class="anchored" data-anchor-id="description-55">Description</h4>
<p>Collect time series as multiple time series.</p>
</section>
<section id="usage-55" class="level4">
<h4 class="anchored" data-anchor-id="usage-55">Usage</h4>
<div class="sourceCode" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_c</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-55" class="level4">
<h4 class="anchored" data-anchor-id="arguments-55">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-17" class="level4">
<h4 class="anchored" data-anchor-id="details-17">Details</h4>
<p>In data frame objects, multiple time series are stored in a long data frame. In <code>ts</code> and <code>xts</code> objects, time series are combined horizontally.</p>
</section>
<section id="value-55" class="level4">
<h4 class="anchored" data-anchor-id="value-55">Value</h4>
<p>a ts-boxable object of the same class as the input, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>. If series of different classes are combined, the class of the first series is used (if possible).</p>
</section>
<section id="see-also-2" class="level4">
<h4 class="anchored" data-anchor-id="see-also-2">See Also</h4>
<p>ts_bind, to bind multiple time series to a single series.</p>
</section>
<section id="examples-55" class="level4">
<h4 class="anchored" data-anchor-id="examples-55">Examples</h4>
<div class="sourceCode" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_c</span>(mdeaths, fdeaths)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_c</span>(<span class="fu">ts_df</span>(EuStockMarkets), AirPassengers)</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="do">## labeling</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">ts_c</span>(</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">International Airline Passengers</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ts_xts</span>(AirPassengers),</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Deaths from Lung Diseases</span><span class="st">`</span> <span class="ot">=</span> ldeaths</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(x1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_default" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_default">tsbox::ts_default()</h3>
<section id="description-56" class="level4">
<h4 class="anchored" data-anchor-id="description-56">Description</h4>
<p>In data frame objects (<code>data.frame</code>, <code>tibble</code>, <code>data.table</code>), tsbox automatically detects the time and the value column. This function changes the column names to the defaults (<code>time</code>, <code>value</code>), so that auto-detection can be avoided in future operations.</p>
</section>
<section id="usage-56" class="level4">
<h4 class="anchored" data-anchor-id="usage-56">Usage</h4>
<div class="sourceCode" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_default</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-56" class="level4">
<h4 class="anchored" data-anchor-id="arguments-56">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-56" class="level4">
<h4 class="anchored" data-anchor-id="value-56">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-56" class="level4">
<h4 class="anchored" data-anchor-id="examples-56">Examples</h4>
<div class="sourceCode" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(<span class="fu">ts_c</span>(mdeaths, fdeaths))</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="do">## non-default colnames</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"date"</span>, <span class="st">"count"</span>)</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="do">## switch back to default colnames</span></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_default</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_pick" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_pick">tsbox::ts_pick()</h3>
<section id="description-57" class="level4">
<h4 class="anchored" data-anchor-id="description-57">Description</h4>
<p>Pick (and optionally rename) series from multiple time series.</p>
</section>
<section id="usage-57" class="level4">
<h4 class="anchored" data-anchor-id="usage-57">Usage</h4>
<div class="sourceCode" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pick</span>(x, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-57" class="level4">
<h4 class="anchored" data-anchor-id="arguments-57">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">character string(s), names of the series to be picked, or integer, with positions. If arguments are named, the series will be renamed.</td>
</tr>
</tbody>
</table>
</section>
<section id="value-57" class="level4">
<h4 class="anchored" data-anchor-id="value-57">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="examples-57" class="level4">
<h4 class="anchored" data-anchor-id="examples-57">Examples</h4>
<div class="sourceCode" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Interactive use</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_pick</span>(</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>  EuStockMarkets,</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">My Dax</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"DAX"</span>,</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">My Smi</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"SMI"</span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pick</span>(EuStockMarkets, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pick</span>(EuStockMarkets, <span class="st">`</span><span class="at">My Dax</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"DAX"</span>, <span class="st">`</span><span class="at">My Smi</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"SMI"</span>)</span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Programming use</span></span>
<span id="cb116-12"><a href="#cb116-12" aria-hidden="true" tabindex="-1"></a>to.be.picked.and.renamed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">My Dax</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"DAX"</span>, <span class="st">`</span><span class="at">My Smi</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"SMI"</span>)</span>
<span id="cb116-13"><a href="#cb116-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_pick</span>(EuStockMarkets, to.be.picked.and.renamed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsget_var" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsget_var">fcutils::get_var()</h3>
<section id="description-58" class="level4">
<h4 class="anchored" data-anchor-id="description-58">Description</h4>
<p>Construct a series name from variable components and retrieve the series</p>
</section>
<section id="usage-58" class="level4">
<h4 class="anchored" data-anchor-id="usage-58">Usage</h4>
<div class="sourceCode" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_var</span>(ser_in, <span class="at">env =</span> <span class="fu">parent.frame</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-58" class="level4">
<h4 class="anchored" data-anchor-id="arguments-58">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="ser_in">ser_in</code></td>
<td style="text-align: left;">a variable name (character string with substituted expressions)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="env">env</code></td>
<td style="text-align: left;">environment where the expression should be evaluated</td>
</tr>
</tbody>
</table>
</section>
<section id="value-58" class="level4">
<h4 class="anchored" data-anchor-id="value-58">Value</h4>
<p>variable</p>
</section>
<section id="examples-58" class="level4">
<h4 class="anchored" data-anchor-id="examples-58">Examples</h4>
<div class="sourceCode" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>ser_i <span class="ot">&lt;-</span> <span class="st">"_NF"</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>cnty_i <span class="ot">&lt;-</span> <span class="st">"HI"</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>() <span class="sc">%$%</span> <span class="fu">get_var</span>(<span class="st">"E{ser_i}_{cnty_i}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsrename_udaman" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsrename_udaman">fcutils::rename_udaman()</h3>
<section id="description-59" class="level4">
<h4 class="anchored" data-anchor-id="description-59">Description</h4>
<p>Format series names to udaman format (mnemonic@loc.freq)</p>
</section>
<section id="usage-59" class="level4">
<h4 class="anchored" data-anchor-id="usage-59">Usage</h4>
<div class="sourceCode" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(ser_in, <span class="at">freq =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-59" class="level4">
<h4 class="anchored" data-anchor-id="arguments-59">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="ser_in">ser_in</code></td>
<td style="text-align: left;">series names (character "mnemonic_loc", "mnemonic_AT_loc_freq", "mnemonic__loc_freq", mnemonic@loc.freq")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="freq">freq</code></td>
<td style="text-align: left;">frequency of the series, required if not contained in the series name (character "D", "W", "M", "Q", "S", "A")</td>
</tr>
</tbody>
</table>
</section>
<section id="value-59" class="level4">
<h4 class="anchored" data-anchor-id="value-59">Value</h4>
<p>series names following udaman convention "mnemonic@loc.freq"</p>
</section>
<section id="examples-59" class="level4">
<h4 class="anchored" data-anchor-id="examples-59">Examples</h4>
<div class="sourceCode" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(<span class="fu">c</span>(<span class="st">"E_NF_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"E_TU_HAW"</span>), <span class="at">freq =</span> <span class="st">"M"</span>)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(<span class="fu">c</span>(<span class="st">"E_NF__HI_M"</span>, <span class="st">"ECT__HI_M"</span>, <span class="st">"VAP__HAW_W"</span>))</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(<span class="fu">c</span>(<span class="st">"E_NF_AT_HI_M"</span>, <span class="st">"ECT_AT_HI_M"</span>, <span class="st">"VAP_AT_HAW_W"</span>))</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(<span class="fu">c</span>(<span class="st">"E_NF@HI.M"</span>, <span class="st">"ECT@HI.M"</span>, <span class="st">"VAP@HAW.W"</span>))</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_udaman</span>(<span class="fu">c</span>(<span class="st">"SH_US@HI.M"</span>, <span class="st">"SH_JP__HON_M"</span>))</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">rename_udaman</span>(., <span class="at">freq =</span> <span class="st">"M"</span>), <span class="at">.cols =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">rename_with</span>(rename_udaman, <span class="at">freq =</span> <span class="st">"M"</span>, <span class="at">.cols =</span> <span class="sc">!</span>time)</span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">rename_udaman</span>(id, <span class="at">freq =</span> <span class="st">"M"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_xts</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="sec-plots" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="sec-plots"><span class="header-section-number">6.7</span> Plots</h2>
<section id="tsboxts_ggplot" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_ggplot">tsbox::ts_ggplot()</h3>
<section id="description-60" class="level4">
<h4 class="anchored" data-anchor-id="description-60">Description</h4>
<p><code>ts_ggplot()</code> has the same syntax and produces a similar plot as <code>ts_plot()</code>, but uses the <a href="https://ggplot2.tidyverse.org/">ggplot2</a> graphic system, and can be customized. With <code>theme_tsbox()</code> and <code>scale_color_tsbox()</code>, the output of <code>ts_ggplot</code> has a similar look and feel.</p>
</section>
<section id="usage-60" class="level4">
<h4 class="anchored" data-anchor-id="usage-60">Usage</h4>
<div class="sourceCode" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_ggplot</span>(..., title, subtitle, <span class="at">ylab =</span> <span class="st">""</span>)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_tsbox</span>(<span class="at">base_family =</span> <span class="fu">getOption</span>(<span class="st">"ts_font"</span>, <span class="st">""</span>), <span class="at">base_size =</span> <span class="dv">12</span>)</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colors_tsbox</span>()</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_tsbox</span>(...)</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_tsbox</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-60" class="level4">
<h4 class="anchored" data-anchor-id="arguments-60">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">ts-boxable time series, objects of class <code>ts</code>, <code>xts</code>, <code>data.frame</code>, <code>data.table</code>, or <code>tibble</code>. For <code>scale_</code> functions, arguments passed to subfunctions.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="title">title</code></td>
<td style="text-align: left;">title (optional)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="subtitle">subtitle</code></td>
<td style="text-align: left;">subtitle (optional)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="ylab">ylab</code></td>
<td style="text-align: left;">ylab (optional)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="base_family">base_family</code></td>
<td style="text-align: left;">base font family (can also be set via <code>options</code>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="base_size">base_size</code></td>
<td style="text-align: left;">base font size</td>
</tr>
</tbody>
</table>
</section>
<section id="details-18" class="level4">
<h4 class="anchored" data-anchor-id="details-18">Details</h4>
<p>Both <code>ts_plot()</code> and <code>ts_ggplot()</code> combine multiple ID dimensions into a single dimension. To plot multiple dimensions in different shapes, facets, etc., use standard ggplot (see examples).</p>
</section>
<section id="see-also-3" class="level4">
<h4 class="anchored" data-anchor-id="see-also-3">See Also</h4>
<p><code>ts_plot()</code>, for a simpler and faster plotting function. <code>ts_dygraphs()</code>, for interactive time series plots.</p>
</section>
<section id="examples-60" class="level4">
<h4 class="anchored" data-anchor-id="examples-60">Examples</h4>
<div class="sourceCode" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="do">## using the ggplot2 graphic system</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ts_ggplot</span>(<span class="at">total =</span> ldeaths, <span class="at">female =</span> fdeaths, <span class="at">male =</span> mdeaths)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="do">## with themes for the look and feel of ts_plot()</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_tsbox</span>() <span class="sc">+</span> <span class="fu">scale_color_tsbox</span>()</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="do">## also use themes with standard ggplot</span></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(ggplot2))</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">ts_df</span>(<span class="fu">ts_c</span>(<span class="at">total =</span> ldeaths, <span class="at">female =</span> fdeaths, <span class="at">male =</span> mdeaths))</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="st">"id"</span>) <span class="sc">+</span></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_tsbox</span>() <span class="sc">+</span></span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_tsbox</span>()</span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="do">### tsbox::ts_ggplot()</span></span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dataseries)</span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a>dta <span class="ot">&lt;-</span> <span class="fu">ds</span>(<span class="fu">c</span>(<span class="st">"GDP.PBRTT.A.R"</span>, <span class="st">"CCI.CCIIR"</span>), <span class="st">"xts"</span>)</span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_ggplot</span>(<span class="fu">ts_scale</span>(<span class="fu">ts_span</span>(</span>
<span id="cb122-22"><a href="#cb122-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_c</span>(</span>
<span id="cb122-23"><a href="#cb122-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">GDP Growth</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ts_pc</span>(dta[, <span class="st">"GDP.PBRTT.A.R"</span>]),</span>
<span id="cb122-24"><a href="#cb122-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Consumer Sentiment Index</span><span class="st">`</span> <span class="ot">=</span> dta[, <span class="st">"CCI.CCIIR"</span>]</span>
<span id="cb122-25"><a href="#cb122-25" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb122-26"><a href="#cb122-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">start =</span> <span class="st">"1995-01-01"</span></span>
<span id="cb122-27"><a href="#cb122-27" aria-hidden="true" tabindex="-1"></a>))) <span class="sc">+</span></span>
<span id="cb122-28"><a href="#cb122-28" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"GDP and Consumer Sentiment"</span>, <span class="at">subtitle =</span> <span class="st">"normalized"</span>) <span class="sc">+</span></span>
<span id="cb122-29"><a href="#cb122-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_tsbox</span>() <span class="sc">+</span></span>
<span id="cb122-30"><a href="#cb122-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_tsbox</span>()</span>
<span id="cb122-31"><a href="#cb122-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-32"><a href="#cb122-32" aria-hidden="true" tabindex="-1"></a><span class="do">### tsbox::ts_ggplot()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_plot" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_plot">tsbox::ts_plot()</h3>
<section id="description-61" class="level4">
<h4 class="anchored" data-anchor-id="description-61">Description</h4>
<p><code>ts_plot()</code> is a fast and simple plotting function for ts-boxable time series, with limited customizability. For more theme options, use <code>ts_ggplot()</code>.</p>
</section>
<section id="usage-61" class="level4">
<h4 class="anchored" data-anchor-id="usage-61">Usage</h4>
<div class="sourceCode" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(..., title, subtitle, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">family =</span> <span class="fu">getOption</span>(<span class="st">"ts_font"</span>, <span class="st">"sans"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-61" class="level4">
<h4 class="anchored" data-anchor-id="arguments-61">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="title">title</code></td>
<td style="text-align: left;">title (optional)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="subtitle">subtitle</code></td>
<td style="text-align: left;">subtitle (optional)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="ylab">ylab</code></td>
<td style="text-align: left;">ylab (optional)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="family">family</code></td>
<td style="text-align: left;">font family (optional, can also be set via <code>options</code>)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-19" class="level4">
<h4 class="anchored" data-anchor-id="details-19">Details</h4>
<p>Both <code>ts_plot()</code> and <code>ts_ggplot()</code> combine multiple ID dimensions into a single dimension. To plot multiple dimensions in different shapes, facets, etc., use standard ggplot.</p>
<p>Limited customizability of <code>ts_plot</code> is available via options. See examples.</p>
</section>
<section id="see-also-4" class="level4">
<h4 class="anchored" data-anchor-id="see-also-4">See Also</h4>
<p><code>ts_ggplot()</code>, for a plotting function based on ggplot2. <code>ts_dygraphs()</code>, for interactive time series plots. <code>ts_save()</code> to save a plot to the file system.</p>
</section>
<section id="examples-61" class="level4">
<h4 class="anchored" data-anchor-id="examples-61">Examples</h4>
<div class="sourceCode" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  AirPassengers,</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Airline passengers"</span>,</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"The classic Box &amp; Jenkins airline data"</span></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="do">## naming arguments</span></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="at">total =</span> ldeaths, <span class="at">female =</span> fdeaths, <span class="at">male =</span> mdeaths)</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="do">## using different ts-boxable objects</span></span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_scale</span>(<span class="fu">ts_c</span>(</span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_xts</span>(airmiles),</span>
<span id="cb124-13"><a href="#cb124-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_tbl</span>(co2),</span>
<span id="cb124-14"><a href="#cb124-14" aria-hidden="true" tabindex="-1"></a>  JohnsonJohnson,</span>
<span id="cb124-15"><a href="#cb124-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_df</span>(discoveries)</span>
<span id="cb124-16"><a href="#cb124-16" aria-hidden="true" tabindex="-1"></a>)))</span>
<span id="cb124-17"><a href="#cb124-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-18"><a href="#cb124-18" aria-hidden="true" tabindex="-1"></a><span class="do">## customize ts_plot</span></span>
<span id="cb124-19"><a href="#cb124-19" aria-hidden="true" tabindex="-1"></a>op <span class="ot">&lt;-</span> <span class="fu">options</span>(</span>
<span id="cb124-20"><a href="#cb124-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">tsbox.lwd =</span> <span class="dv">3</span>,</span>
<span id="cb124-21"><a href="#cb124-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">tsbox.col =</span> <span class="fu">c</span>(<span class="st">"gray51"</span>, <span class="st">"gray11"</span>),</span>
<span id="cb124-22"><a href="#cb124-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">tsbox.lty =</span> <span class="st">"dashed"</span></span>
<span id="cb124-23"><a href="#cb124-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-24"><a href="#cb124-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb124-25"><a href="#cb124-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Female"</span> <span class="ot">=</span> fdeaths,</span>
<span id="cb124-26"><a href="#cb124-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Male"</span> <span class="ot">=</span> mdeaths</span>
<span id="cb124-27"><a href="#cb124-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-28"><a href="#cb124-28" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(op) <span class="do">## restore defaults</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_save" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_save">tsbox::ts_save()</h3>
<section id="description-62" class="level4">
<h4 class="anchored" data-anchor-id="description-62">Description</h4>
<p>Save Previous Plot</p>
</section>
<section id="usage-62" class="level4">
<h4 class="anchored" data-anchor-id="usage-62">Usage</h4>
<div class="sourceCode" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_save</span>(</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">filename =</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".pdf"</span>),</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">10</span>,</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">5</span>,</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">device =</span> <span class="cn">NULL</span>,</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">open =</span> <span class="cn">TRUE</span></span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-62" class="level4">
<h4 class="anchored" data-anchor-id="arguments-62">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="filename">filename</code></td>
<td style="text-align: left;">filename</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="device">device</code></td>
<td style="text-align: left;">device</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="open">open</code></td>
<td style="text-align: left;">logical, should the saved plot be opened?</td>
</tr>
</tbody>
</table>
</section>
<section id="value-60" class="level4">
<h4 class="anchored" data-anchor-id="value-60">Value</h4>
<p>invisible <code>TRUE</code>, if successful</p>
</section>
<section id="examples-62" class="level4">
<h4 class="anchored" data-anchor-id="examples-62">Examples</h4>
<div class="sourceCode" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(AirPassengers)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".pdf"</span>)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_save</span>(tf)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsplot_1" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsplot_1">fcutils::plot_1()</h3>
<section id="description-63" class="level4">
<h4 class="anchored" data-anchor-id="description-63">Description</h4>
<p>Interactive plot with level and growth rate</p>
</section>
<section id="usage-63" class="level4">
<h4 class="anchored" data-anchor-id="usage-63">Usage</h4>
<div class="sourceCode" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_1</span>(</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">900</span>,</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">yoy_gr =</span> <span class="cn">TRUE</span>,</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">gr_1 =</span> <span class="cn">TRUE</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-63" class="level4">
<h4 class="anchored" data-anchor-id="arguments-63">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to plot (e.g.&nbsp;time series of history, oldsol, sol)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="rng_start">rng_start</code></td>
<td style="text-align: left;">start of zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rng_end">rng_end</code></td>
<td style="text-align: left;">end of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height of a single panel (px)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width of a single panel (px)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="yoy_gr">yoy_gr</code></td>
<td style="text-align: left;">year-over-year (default) or annualized growth</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="gr_1">gr_1</code></td>
<td style="text-align: left;">only show growth for the first series (default)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-61" class="level4">
<h4 class="anchored" data-anchor-id="value-61">Value</h4>
<p>a dygraph plot</p>
</section>
<section id="examples-63" class="level4">
<h4 class="anchored" data-anchor-id="examples-63">Examples</h4>
<div class="sourceCode" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_1</span>()</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_TU_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"EMN_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_1</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsplot_2ax" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsplot_2ax">fcutils::plot_2ax()</h3>
<section id="description-64" class="level4">
<h4 class="anchored" data-anchor-id="description-64">Description</h4>
<p>Interactive lineplot with two axes</p>
</section>
<section id="usage-64" class="level4">
<h4 class="anchored" data-anchor-id="usage-64">Usage</h4>
<div class="sourceCode" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_2ax</span>(</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">900</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-64" class="level4">
<h4 class="anchored" data-anchor-id="arguments-64">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to plot (e.g.&nbsp;time series of history, oldsol, sol)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="rng_start">rng_start</code></td>
<td style="text-align: left;">start of zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rng_end">rng_end</code></td>
<td style="text-align: left;">end of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height of a single panel (px)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width of a single panel (px)</td>
</tr>
</tbody>
</table>
</section>
<section id="value-62" class="level4">
<h4 class="anchored" data-anchor-id="value-62">Value</h4>
<p>a dygraph plot</p>
</section>
<section id="examples-64" class="level4">
<h4 class="anchored" data-anchor-id="examples-64">Examples</h4>
<div class="sourceCode" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_2ax</span>()</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_TU_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"EMN_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_2ax</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsplot_comp_2" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsplot_comp_2">fcutils::plot_comp_2()</h3>
<section id="description-65" class="level4">
<h4 class="anchored" data-anchor-id="description-65">Description</h4>
<p>Two-panel plot of levels and growth rates</p>
</section>
<section id="usage-65" class="level4">
<h4 class="anchored" data-anchor-id="usage-65">Usage</h4>
<div class="sourceCode" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_comp_2</span>(</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">900</span>,</span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">yoy_gr =</span> <span class="cn">TRUE</span>,</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">gr_bar =</span> <span class="cn">FALSE</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-65" class="level4">
<h4 class="anchored" data-anchor-id="arguments-65">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to plot</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="rng_start">rng_start</code></td>
<td style="text-align: left;">start of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rng_end">rng_end</code></td>
<td style="text-align: left;">end of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height of a single panel (px)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width of a single panel (px)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="yoy_gr">yoy_gr</code></td>
<td style="text-align: left;">year-over-year (default) or annualized growth</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="gr_bar">gr_bar</code></td>
<td style="text-align: left;">show bars or line (default) for the growth series</td>
</tr>
</tbody>
</table>
</section>
<section id="value-63" class="level4">
<h4 class="anchored" data-anchor-id="value-63">Value</h4>
<p>a list with two dygraph plots (level, growth)</p>
</section>
<section id="examples-65" class="level4">
<h4 class="anchored" data-anchor-id="examples-65">Examples</h4>
<div class="sourceCode" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_comp_2</span>()</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_TU_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"EMN_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_comp_2</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsplot_comp_3" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsplot_comp_3">fcutils::plot_comp_3()</h3>
<section id="description-66" class="level4">
<h4 class="anchored" data-anchor-id="description-66">Description</h4>
<p>Three-panel plot of levels, index, and growth rates</p>
</section>
<section id="usage-66" class="level4">
<h4 class="anchored" data-anchor-id="usage-66">Usage</h4>
<div class="sourceCode" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_comp_3</span>(</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">base_date =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">900</span>,</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">yoy_gr =</span> <span class="cn">TRUE</span>,</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">gr_bar =</span> <span class="cn">FALSE</span></span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-66" class="level4">
<h4 class="anchored" data-anchor-id="arguments-66">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to plot</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="base_date">base_date</code></td>
<td style="text-align: left;">base period for the indexed series ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rng_start">rng_start</code></td>
<td style="text-align: left;">start of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="rng_end">rng_end</code></td>
<td style="text-align: left;">end of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height of a single panel (px)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width of a single panel (px)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="yoy_gr">yoy_gr</code></td>
<td style="text-align: left;">year-over-year (default) or annualized growth</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="gr_bar">gr_bar</code></td>
<td style="text-align: left;">show bars or line (default) for the growth series</td>
</tr>
</tbody>
</table>
</section>
<section id="value-64" class="level4">
<h4 class="anchored" data-anchor-id="value-64">Value</h4>
<p>a list with three dygraph plots (level, index, growth)</p>
</section>
<section id="examples-66" class="level4">
<h4 class="anchored" data-anchor-id="examples-66">Examples</h4>
<div class="sourceCode" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_comp_3</span>()</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_TU_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"EMN_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_comp_3</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsplot_fc" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsplot_fc">fcutils::plot_fc()</h3>
<section id="description-67" class="level4">
<h4 class="anchored" data-anchor-id="description-67">Description</h4>
<p>Interactive plot with level and growth rate for forecast series</p>
</section>
<section id="usage-67" class="level4">
<h4 class="anchored" data-anchor-id="usage-67">Usage</h4>
<div class="sourceCode" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_fc</span>(</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">10</span>)),</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">2</span>)),</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_table =</span> <span class="cn">TRUE</span>,</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">table_start =</span> rng_start,</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">table_end =</span> rng_end,</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">900</span>,</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">yoy_gr =</span> <span class="cn">TRUE</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-67" class="level4">
<h4 class="anchored" data-anchor-id="arguments-67">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable object to plot (min 1, max 3 time series) (e.g.&nbsp;current fcst, old fcst, history)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="rng_start">rng_start</code></td>
<td style="text-align: left;">start of zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="rng_end">rng_end</code></td>
<td style="text-align: left;">end of the zoom range ("YYYY-MM-DD")</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="add_table">add_table</code></td>
<td style="text-align: left;">should a data table be appended to the plot? (default = TRUE)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="table_start">table_start</code></td>
<td style="text-align: left;">start of table range ("YYYY-MM-DD") (all data = NULL, default = rng_start)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="table_end">table_end</code></td>
<td style="text-align: left;">end of table range ("YYYY-MM-DD") (all data = NULL, default = rng_end)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="height">height</code></td>
<td style="text-align: left;">height of a single panel (px)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="width">width</code></td>
<td style="text-align: left;">width of a single panel (px)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="yoy_gr">yoy_gr</code></td>
<td style="text-align: left;">year-over-year (default) or annualized growth</td>
</tr>
</tbody>
</table>
</section>
<section id="value-65" class="level4">
<h4 class="anchored" data-anchor-id="value-65">Value</h4>
<p>a dygraph plot</p>
</section>
<section id="examples-67" class="level4">
<h4 class="anchored" data-anchor-id="examples-67">Examples</h4>
<div class="sourceCode" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>monthly_data_example <span class="sc">|&gt;</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_fc</span>()</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>quarterly_data_example <span class="sc">|&gt;</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>  tsbox<span class="sc">::</span><span class="fu">ts_pick</span>(<span class="st">"E_TU_HI"</span>, <span class="st">"ECT_HI"</span>, <span class="st">"EMN_HI"</span>) <span class="sc">|&gt;</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_fc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilssave_plot_list" class="level3">
<h3 class="anchored" data-anchor-id="fcutilssave_plot_list">fcutils::save_plot_list()</h3>
<section id="description-68" class="level4">
<h4 class="anchored" data-anchor-id="description-68">Description</h4>
<p>Save a list of interactive plots to html</p>
</section>
<section id="usage-68" class="level4">
<h4 class="anchored" data-anchor-id="usage-68">Usage</h4>
<div class="sourceCode" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save_plot_list</span>(plot_list, save_loc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-68" class="level4">
<h4 class="anchored" data-anchor-id="arguments-68">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="plot_list">plot_list</code></td>
<td style="text-align: left;">a list of plots generated by fcutils::plot_xxxx() functions</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="save_loc">save_loc</code></td>
<td style="text-align: left;">location to save the plots to, including file name</td>
</tr>
</tbody>
</table>
</section>
<section id="value-66" class="level4">
<h4 class="anchored" data-anchor-id="value-66">Value</h4>
<p>nothing (silently save the html to a user defined location)</p>
</section>
<section id="examples-68" class="level4">
<h4 class="anchored" data-anchor-id="examples-68">Examples</h4>
<div class="sourceCode" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="do">## hold the plots in a list</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>plot_out <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> monthly_data_example[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>] <span class="sc">|&gt;</span> <span class="fu">names</span>()) {</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>  plot_out[[i]] <span class="ot">&lt;-</span> <span class="fu">plot_1</span>(</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>    monthly_data_example <span class="sc">|&gt;</span> tsbox<span class="sc">::</span><span class="fu">ts_long</span>() <span class="sc">|&gt;</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">filter</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(id, i)),</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">rng_start =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">5</span>)),</span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">rng_end =</span> <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>() <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">7</span>)),</span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">1500</span>, <span class="at">height =</span> <span class="dv">650</span>, <span class="at">yoy_gr =</span> <span class="cn">TRUE</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="do">## specify location of the output</span></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a>save_loc <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(<span class="st">"~/Downloads/plots_"</span>, <span class="fu">Sys.Date</span>(), <span class="st">".html"</span>)</span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a><span class="do">## combine a list of plots into a single html</span></span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a>plot_out <span class="sc">|&gt;</span> <span class="fu">save_plot_list</span>(save_loc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_theme" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_theme">uherotheme::uhero_theme()</h3>
<section id="description-69" class="level4">
<h4 class="anchored" data-anchor-id="description-69">Description</h4>
<p>Modifies the ggplot minimal theme to fit the style used for UHERO reports/presentations.</p>
</section>
<section id="usage-69" class="level4">
<h4 class="anchored" data-anchor-id="usage-69">Usage</h4>
<div class="sourceCode" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_theme</span>(<span class="at">layout =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-69" class="level4">
<h4 class="anchored" data-anchor-id="arguments-69">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="layout">layout</code></td>
<td style="text-align: left;">A boolean to indicate whether or not the theme is being applied to a plot that is to be used in a UHERO report layout. This defaults to false. If layout is TRUE, then the base size is set to 9 and the font family is set to open sans. If the parameter is FALSE, then the base size is set to 30 and the font family is set to opensans-semibold. Set layout to TRUE if the plot is being used for a UHERO report.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-69" class="level4">
<h4 class="anchored" data-anchor-id="examples-69">Examples</h4>
<div class="sourceCode" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(ggplot2<span class="sc">::</span>mpg) <span class="sc">+</span> <span class="fu">uhero_theme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_scale_nums" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_scale_nums">uherotheme::uhero_scale_nums()</h3>
<section id="description-70" class="level4">
<h4 class="anchored" data-anchor-id="description-70">Description</h4>
<p>This can be passed in to the labels parameter of ggplot scales like scale_x_continous() or scale_y_continuous() If the max value of the scale is larger than 1000, the tick labels will be scaled down with a suffix added to the maximum value. For max values of at least 10^3 but less than 10^6, tick labels will be divided by 10^3 with "K" added to the label for the maximum value. For max values of at least 10^6 but less than 10^9, tick labels will be divided by 10^6 with "M" added to the label for the maximum value. For max values of at least 10^9 but less than 10^12, tick labels will be divided by 10^9 with "B" added to the label for the maximum value.</p>
</section>
<section id="usage-70" class="level4">
<h4 class="anchored" data-anchor-id="usage-70">Usage</h4>
<div class="sourceCode" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_nums</span>(</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale_limit =</span> <span class="fu">max</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">prefix =</span> <span class="st">""</span>,</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">percent =</span> <span class="cn">FALSE</span>,</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-70" class="level4">
<h4 class="anchored" data-anchor-id="arguments-70">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">Passed in from labels function.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="scale_limit">scale_limit</code></td>
<td style="text-align: left;">Defaults to the max value of the scale.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="prefix">prefix</code></td>
<td style="text-align: left;">This is optional and defaults to an empty string. This can be used to add things like currency labels, (i.e.&nbsp;"$100").</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="percent">percent</code></td>
<td style="text-align: left;">Boolean that defaults to false. Set the value to true to add a "%" to the maximum value tick label.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional arguments that can be passed to R's format().</td>
</tr>
</tbody>
</table>
</section>
<section id="value-67" class="level4">
<h4 class="anchored" data-anchor-id="value-67">Value</h4>
<p>Returns a formatted string for the tick label.</p>
</section>
<section id="examples-70" class="level4">
<h4 class="anchored" data-anchor-id="examples-70">Examples</h4>
<div class="sourceCode" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">uhero_scale_nums</span>(x, <span class="at">percent =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">uhero_scale_nums</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_colors" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_colors">uherotheme::uhero_colors()</h3>
<section id="description-71" class="level4">
<h4 class="anchored" data-anchor-id="description-71">Description</h4>
<p>Hex codes for a given color in the UHERO colors</p>
</section>
<section id="usage-71" class="level4">
<h4 class="anchored" data-anchor-id="usage-71">Usage</h4>
<div class="sourceCode" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_colors</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-71" class="level4">
<h4 class="anchored" data-anchor-id="arguments-71">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Names of the UHERO colors. There are 14 total: "blue", "orange", "green", "purple", "cyan", "gray", "red", "light blue", "light orange", "light green", "light purple", "light cyan", "light gray", and "light red".</td>
</tr>
</tbody>
</table>
</section>
<section id="value-68" class="level4">
<h4 class="anchored" data-anchor-id="value-68">Value</h4>
<p>A list of colors with their HEX codes.</p>
</section>
<section id="examples-71" class="level4">
<h4 class="anchored" data-anchor-id="examples-71">Examples</h4>
<div class="sourceCode" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_colors</span>(<span class="st">"blue"</span>)</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_colors</span>(<span class="st">"blue"</span>, <span class="st">"light orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_pal" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_pal">uherotheme::uhero_pal()</h3>
<section id="description-72" class="level4">
<h4 class="anchored" data-anchor-id="description-72">Description</h4>
<p>A palette generator for UHERO colors.</p>
</section>
<section id="usage-72" class="level4">
<h4 class="anchored" data-anchor-id="usage-72">Usage</h4>
<div class="sourceCode" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_pal</span>(<span class="at">palette =</span> <span class="st">"primary"</span>, <span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">reverse =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-72" class="level4">
<h4 class="anchored" data-anchor-id="arguments-72">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="palette">palette</code></td>
<td style="text-align: left;">A string that defaults to "primary". This can also be set to either "secondary" or "all".</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="discrete">discrete</code></td>
<td style="text-align: left;">A boolean that defaults to TRUE. Set to FALSE for a continuous scale.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="reverse">reverse</code></td>
<td style="text-align: left;">A boolean that defaults to FALSE. Set to TRUE to reverse the color scale.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to <code>colorRampPalette</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-72" class="level4">
<h4 class="anchored" data-anchor-id="examples-72">Examples</h4>
<div class="sourceCode" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_pal</span>()</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_pal</span>(<span class="st">"secondary"</span>, <span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">reverse =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_scale_colour" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_scale_colour">uherotheme::uhero_scale_colour()</h3>
<section id="description-73" class="level4">
<h4 class="anchored" data-anchor-id="description-73">Description</h4>
<p>Uses <code>ggplot2::discrete_scale</code> for the color aesthetic for discrete scales and <code>ggplot2::scale_colour_gradientn</code> for the color aesthetic on continuous scales. <code>uhero_scale_color</code> is available as an alias.</p>
</section>
<section id="usage-73" class="level4">
<h4 class="anchored" data-anchor-id="usage-73">Usage</h4>
<div class="sourceCode" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_colour</span>(<span class="at">palette =</span> <span class="st">"primary"</span>, <span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">reverse =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-73" class="level4">
<h4 class="anchored" data-anchor-id="arguments-73">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="palette">palette</code></td>
<td style="text-align: left;">A string that defaults to "primary". This can also be set to either "secondary" or "all".</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="discrete">discrete</code></td>
<td style="text-align: left;">A boolean that defaults to TRUE. Set to FALSE for a continuous scale.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="reverse">reverse</code></td>
<td style="text-align: left;">A boolean that defaults to FALSE. Set to TRUE to reverse the color scale.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to <code>ggplot2::discrete_scale</code> or <code>ggplot2::scale_fill_gradientn</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-73" class="level4">
<h4 class="anchored" data-anchor-id="examples-73">Examples</h4>
<div class="sourceCode" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(ggplot2<span class="sc">::</span>mpg, ggplot2<span class="sc">::</span><span class="fu">aes</span>(hwy, class, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_colour</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_scale_fill" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_scale_fill">uherotheme::uhero_scale_fill()</h3>
<section id="description-74" class="level4">
<h4 class="anchored" data-anchor-id="description-74">Description</h4>
<p>Uses <code>ggplot2::discrete_scale</code> for the fill aesthetic for discrete scales and <code>ggplot2::scale_fill_gradientn</code> for the fill aesthetic on continuous scales.</p>
</section>
<section id="usage-74" class="level4">
<h4 class="anchored" data-anchor-id="usage-74">Usage</h4>
<div class="sourceCode" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_fill</span>(<span class="at">palette =</span> <span class="st">"primary"</span>, <span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">reverse =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-74" class="level4">
<h4 class="anchored" data-anchor-id="arguments-74">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="palette">palette</code></td>
<td style="text-align: left;">A string that defaults to "primary". This can also be set to either "secondary" or "all".</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="discrete">discrete</code></td>
<td style="text-align: left;">A boolean that defaults to TRUE. Set to FALSE for a continuous scale.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="reverse">reverse</code></td>
<td style="text-align: left;">A boolean that defaults to FALSE. Set to TRUE to reverse the color scale.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to <code>ggplot2::discrete_scale</code> or <code>ggplot2::scale_fill_gradientn</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-74" class="level4">
<h4 class="anchored" data-anchor-id="examples-74">Examples</h4>
<div class="sourceCode" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(ggplot2<span class="sc">::</span>mpg, ggplot2<span class="sc">::</span><span class="fu">aes</span>(hwy, <span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_bar</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_fill</span>(<span class="at">palette =</span> <span class="st">'secondary'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_scale_colour_diverge" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_scale_colour_diverge">uherotheme::uhero_scale_colour_diverge()</h3>
<section id="description-75" class="level4">
<h4 class="anchored" data-anchor-id="description-75">Description</h4>
<p>Uses <code>ggplot2::scale_color_gradient2</code>. <code>uhero_scale_color_diverge</code> is available as an alias.</p>
</section>
<section id="usage-75" class="level4">
<h4 class="anchored" data-anchor-id="usage-75">Usage</h4>
<div class="sourceCode" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_colour_diverge</span>(<span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">low =</span> <span class="st">"orange"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-75" class="level4">
<h4 class="anchored" data-anchor-id="arguments-75">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="high">high</code></td>
<td style="text-align: left;">A string that defaults to "blue". Can accept any of the other colors in <code>uhero_color_list</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="low">low</code></td>
<td style="text-align: left;">A string that defaults to "orange". Can accept any of the other colors in <code>uhero_color_list</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Any other parameters that can be passed to <code>ggplot2::scale_color_gradient2</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-75" class="level4">
<h4 class="anchored" data-anchor-id="examples-75">Examples</h4>
<div class="sourceCode" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a> <span class="at">x =</span> <span class="fu">runif</span>(<span class="dv">100</span>),</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a> <span class="at">y =</span> <span class="fu">runif</span>(<span class="dv">100</span>),</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a> <span class="at">z1 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a> <span class="at">z2 =</span> <span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>))</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">colour =</span> z1)) <span class="sc">+</span></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_colour_diverge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeuhero_scale_fill_diverge" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeuhero_scale_fill_diverge">uherotheme::uhero_scale_fill_diverge()</h3>
<section id="description-76" class="level4">
<h4 class="anchored" data-anchor-id="description-76">Description</h4>
<p>Uses <code>ggplot2::scale_fill_gradient2</code></p>
</section>
<section id="usage-76" class="level4">
<h4 class="anchored" data-anchor-id="usage-76">Usage</h4>
<div class="sourceCode" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uhero_scale_fill_diverge</span>(<span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">low =</span> <span class="st">"orange"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-76" class="level4">
<h4 class="anchored" data-anchor-id="arguments-76">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="high">high</code></td>
<td style="text-align: left;">A string that defaults to "blue". Can accept any of the other colors in <code>uhero_color_list</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="low">low</code></td>
<td style="text-align: left;">A string that defaults to "orange". Can accept any of the other colors in <code>uhero_color_list</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Any other parameters that can be passed to <code>ggplot2::scale_fill_gradient2</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="uherothemedraw_fcast_layout" class="level3">
<h3 class="anchored" data-anchor-id="uherothemedraw_fcast_layout">uherotheme::draw_fcast_layout()</h3>
<section id="description-77" class="level4">
<h4 class="anchored" data-anchor-id="description-77">Description</h4>
<p>This modifies the size of the view port window to more accurately reflect the size of the figure including the placement of elements like data labels that would be used in a forecast layout.</p>
</section>
<section id="usage-77" class="level4">
<h4 class="anchored" data-anchor-id="usage-77">Usage</h4>
<div class="sourceCode" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">draw_fcast_layout</span>(plot, <span class="at">w =</span> <span class="fl">4.5</span>, <span class="at">h =</span> <span class="fl">2.45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-77" class="level4">
<h4 class="anchored" data-anchor-id="arguments-77">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="plot">plot</code></td>
<td style="text-align: left;">Plot object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="w">w</code></td>
<td style="text-align: left;">Width of the view port in inches, defaults to 4.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="h">h</code></td>
<td style="text-align: left;">Height of the view port in inches, defaults to 2.45</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-76" class="level4">
<h4 class="anchored" data-anchor-id="examples-76">Examples</h4>
<div class="sourceCode" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="fu">draw_fcast_layout</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemedraw_report_layout" class="level3">
<h3 class="anchored" data-anchor-id="uherothemedraw_report_layout">uherotheme::draw_report_layout()</h3>
<section id="description-78" class="level4">
<h4 class="anchored" data-anchor-id="description-78">Description</h4>
<p>This modifies the size of the view port window to more accurately reflect the size of the figure including the placement of elements like data labels that would be used in a UHERO report layout. Sometimes charts may need to be a different size, so the function does accept parameters to change the width and height.</p>
</section>
<section id="usage-78" class="level4">
<h4 class="anchored" data-anchor-id="usage-78">Usage</h4>
<div class="sourceCode" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">draw_report_layout</span>(plot, <span class="at">w =</span> <span class="fl">5.6931</span>, <span class="at">h =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-78" class="level4">
<h4 class="anchored" data-anchor-id="arguments-78">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="plot">plot</code></td>
<td style="text-align: left;">Plot object</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="w">w</code></td>
<td style="text-align: left;">Width of the view port in inches, defaults to 5.6931</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="h">h</code></td>
<td style="text-align: left;">Height of the view port in inches, defaults to 4</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-77" class="level4">
<h4 class="anchored" data-anchor-id="examples-77">Examples</h4>
<div class="sourceCode" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a><span class="fu">draw_report_layout</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeexport_fcast_layout" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeexport_fcast_layout">uherotheme::export_fcast_layout()</h3>
<section id="description-79" class="level4">
<h4 class="anchored" data-anchor-id="description-79">Description</h4>
<p>Uses <code>ggplot2::ggsave</code> to save a copy of the chart. By default, charts are sized at 4.5 x 2.45 inches. Sometimes charts may need to be larger, so the export function does accept parameters to change the width and height. Please try not to exceed 5 inches for the width. If the exported file is intended for use in a forecast layout, please use a '.svg', '.pdf', or '.eps' extension.</p>
</section>
<section id="usage-79" class="level4">
<h4 class="anchored" data-anchor-id="usage-79">Usage</h4>
<div class="sourceCode" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export_fcast_layout</span>(file_name, forecast_plot, <span class="at">w =</span> <span class="fl">4.5</span>, <span class="at">h =</span> <span class="fl">2.45</span>, <span class="at">u =</span> <span class="st">"in"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-79" class="level4">
<h4 class="anchored" data-anchor-id="arguments-79">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="file_name">file_name</code></td>
<td style="text-align: left;">A string for the file name, including the extension.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="forecast_plot">forecast_plot</code></td>
<td style="text-align: left;">Ggplot plot object.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="w">w</code></td>
<td style="text-align: left;">Integer - width of the exported image, defaults to 4.5</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="h">h</code></td>
<td style="text-align: left;">Integer - height of the exported image, defaults to 2.45</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="u">u</code></td>
<td style="text-align: left;">A string for the units, defaults to "in" for inches</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to ggplot2::ggsave</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-78" class="level4">
<h4 class="anchored" data-anchor-id="examples-78">Examples</h4>
<div class="sourceCode" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a><span class="fu">export_fcast_layout</span>(<span class="st">'plot.svg'</span>, plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeexport_report_layout" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeexport_report_layout">uherotheme::export_report_layout()</h3>
<section id="description-80" class="level4">
<h4 class="anchored" data-anchor-id="description-80">Description</h4>
<p>Uses <code>ggplot2::ggsave</code> to save a copy of the chart. By default, charts are sized at 5.6931 x 4 inches. Sometimes charts may need to be larger, so the export function does accept parameters to change the width and height. Please use a '.svg', '.pdf', or '.eps' extension when exporting for a report layout.</p>
</section>
<section id="usage-80" class="level4">
<h4 class="anchored" data-anchor-id="usage-80">Usage</h4>
<div class="sourceCode" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export_report_layout</span>(file_name, plot, <span class="at">w =</span> <span class="fl">5.6931</span>, <span class="at">h =</span> <span class="dv">4</span>, <span class="at">u =</span> <span class="st">"in"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-80" class="level4">
<h4 class="anchored" data-anchor-id="arguments-80">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="file_name">file_name</code></td>
<td style="text-align: left;">A string for the file name, including the extension.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="plot">plot</code></td>
<td style="text-align: left;">Ggplot plot object.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="w">w</code></td>
<td style="text-align: left;">Integer - width of the exported image, defaults to 5.6931</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="h">h</code></td>
<td style="text-align: left;">Integer - height of the exported image, defaults to 4</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="u">u</code></td>
<td style="text-align: left;">A string for the units, defaults to "in" for inches</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to ggplot2::ggsave</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-79" class="level4">
<h4 class="anchored" data-anchor-id="examples-79">Examples</h4>
<div class="sourceCode" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="fu">export_report_layout</span>(<span class="st">'plot.svg'</span>, plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="uherothemeexport_plot" class="level3">
<h3 class="anchored" data-anchor-id="uherothemeexport_plot">uherotheme::export_plot()</h3>
<section id="description-81" class="level4">
<h4 class="anchored" data-anchor-id="description-81">Description</h4>
<p>Uses <code>ggplot2::ggsave</code> to save a copy of the chart. By default the exports are sized at 1920 x 1080 pixels.</p>
</section>
<section id="usage-81" class="level4">
<h4 class="anchored" data-anchor-id="usage-81">Usage</h4>
<div class="sourceCode" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">export_plot</span>(file_name, plot, <span class="at">w =</span> <span class="dv">1920</span>, <span class="at">h =</span> <span class="dv">1080</span>, <span class="at">u =</span> <span class="st">"px"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-81" class="level4">
<h4 class="anchored" data-anchor-id="arguments-81">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="file_name">file_name</code></td>
<td style="text-align: left;">A string for the file name, including the extension.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="plot">plot</code></td>
<td style="text-align: left;">Ggplot plot object.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="w">w</code></td>
<td style="text-align: left;">Integer - width of the exported image, defaults to 1920</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="h">h</code></td>
<td style="text-align: left;">Integer - height of the exported image, defaults to 1080</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="u">u</code></td>
<td style="text-align: left;">A string for the units, defaults to "px" for pixels</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">Additional parameters that can be passed to ggplot2::ggsave</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-80" class="level4">
<h4 class="anchored" data-anchor-id="examples-80">Examples</h4>
<div class="sourceCode" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(df, ggplot2<span class="sc">::</span><span class="fu">aes</span>(x, y)) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="fu">export_report_layout</span>(<span class="st">'plot.png'</span>, plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!-- {{< include man/README.md >}} -->
</section>
</section>
</section>
<section id="tsbox-extensions" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="tsbox-extensions"><span class="header-section-number">6.8</span> tsbox extensions</h2>
<section id="tsboxts_" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_">tsbox::ts_()</h3>
<section id="description-82" class="level4">
<h4 class="anchored" data-anchor-id="description-82">Description</h4>
<p><code>ts_</code> turns an existing function into a function that can deal with ts-boxable time series objects.</p>
</section>
<section id="usage-82" class="level4">
<h4 class="anchored" data-anchor-id="usage-82">Usage</h4>
<div class="sourceCode" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load_suggested</span>(pkg)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_</span>(fun, <span class="at">class =</span> <span class="st">"ts"</span>, <span class="at">vectorize =</span> <span class="cn">FALSE</span>, <span class="at">reclass =</span> <span class="cn">TRUE</span>)</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_apply</span>(x, fun, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-82" class="level4">
<h4 class="anchored" data-anchor-id="arguments-82">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="pkg">pkg</code></td>
<td style="text-align: left;">external package, to be suggested (automatically added by <code>ts_</code>) <code>predict()</code>. (See examples)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="fun">fun</code></td>
<td style="text-align: left;">function, to be made available to all time series classes</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="class">class</code></td>
<td style="text-align: left;">class that the function uses as its first argument</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="vectorize">vectorize</code></td>
<td style="text-align: left;">should the function be vectorized? (not yet implemented)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="reclass">reclass</code></td>
<td style="text-align: left;">logical, should the new function return the same same ts-boxable output as imputed?</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">arguments passed to subfunction</td>
</tr>
</tbody>
</table>
</section>
<section id="details-20" class="level4">
<h4 class="anchored" data-anchor-id="details-20">Details</h4>
<p>The <code>ts_</code> function is a constructor function for tsbox time series functions. It can be used to wrap any function that works with time series. The default is set to R base <code>"ts"</code> class. <code>ts_</code> deals with the conversion stuff, 'vectorizes' the function so that it can be used with multiple time series.</p>
</section>
<section id="value-69" class="level4">
<h4 class="anchored" data-anchor-id="value-69">Value</h4>
<p>A function that accepts ts-boxable time series as an input.</p>
</section>
<section id="see-also-5" class="level4">
<h4 class="anchored" data-anchor-id="see-also-5">See Also</h4>
<p>ts_examples, for a few useful examples of functions generated by <code>ts_</code>.</p>
<p><a href="https://docs.ropensci.org/tsbox/articles/ts-functions.html">Vignette</a> on how to make arbitrary functions ts-boxable.</p>
</section>
<section id="examples-81" class="level4">
<h4 class="anchored" data-anchor-id="examples-81">Examples</h4>
<div class="sourceCode" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_</span>(rowSums)(<span class="fu">ts_c</span>(mdeaths, fdeaths))</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="at">mean =</span> <span class="fu">ts_</span>(rowMeans)(<span class="fu">ts_c</span>(mdeaths, fdeaths)), mdeaths, fdeaths)</span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_</span>(<span class="cf">function</span>(x) <span class="fu">predict</span>(<span class="fu">prcomp</span>(x)))(<span class="fu">ts_c</span>(mdeaths, fdeaths))</span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_</span>(<span class="cf">function</span>(x) <span class="fu">predict</span>(<span class="fu">prcomp</span>(x, <span class="at">scale =</span> <span class="cn">TRUE</span>)))(<span class="fu">ts_c</span>(mdeaths, fdeaths))</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_</span>(dygraphs<span class="sc">::</span>dygraph, <span class="at">class =</span> <span class="st">"xts"</span>)</span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="do">## attach series to serach path</span></span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a>ts_attach <span class="ot">&lt;-</span> <span class="fu">ts_</span>(attach, <span class="at">class =</span> <span class="st">"tslist"</span>, <span class="at">reclass =</span> <span class="cn">FALSE</span>)</span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_attach</span>(EuStockMarkets)</span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(DAX, SMI)</span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tsboxts_examples" class="level3">
<h3 class="anchored" data-anchor-id="tsboxts_examples">tsbox::ts_examples()</h3>
<section id="description-83" class="level4">
<h4 class="anchored" data-anchor-id="description-83">Description</h4>
<p>Example Functions, Generated by ts_. <code>ts_prcomp</code> calculates the principal components of multiple time series, <code>ts_dygraphs</code> generates an interactive graphical visualization, <code>ts_forecast</code> return an univariate forecast, <code>ts_seas</code> the seasonally adjusted series. <code>ts_na_interpolation</code> imputes missing values.</p>
</section>
<section id="usage-83" class="level4">
<h4 class="anchored" data-anchor-id="usage-83">Usage</h4>
<div class="sourceCode" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_prcomp</span>(x, ...)</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_dygraphs</span>(x, ...)</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_forecast</span>(x, ...)</span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_seas</span>(x, ...)</span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_na_interpolation</span>(x, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-83" class="level4">
<h4 class="anchored" data-anchor-id="arguments-83">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="x">x</code></td>
<td style="text-align: left;">ts-boxable time series, an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">further arguments, passed to the underlying function. For help, consider these functions, e.g., stats::prcomp.</td>
</tr>
</tbody>
</table>
</section>
<section id="details-21" class="level4">
<h4 class="anchored" data-anchor-id="details-21">Details</h4>
<p>With the exception of <code>ts_prcomp</code>, these functions depend on external packages.</p>
</section>
<section id="value-70" class="level4">
<h4 class="anchored" data-anchor-id="value-70">Value</h4>
<p>a ts-boxable object of the same class as <code>x</code>, i.e., an object of class <code>ts</code>, <code>xts</code>, <code>zoo</code>, <code>zooreg</code>, <code>data.frame</code>, <code>data.table</code>, <code>tbl</code>, <code>tbl_ts</code>, <code>tbl_time</code>, <code>tis</code>, <code>irts</code> or <code>timeSeries</code>.</p>
</section>
<section id="see-also-6" class="level4">
<h4 class="anchored" data-anchor-id="see-also-6">See Also</h4>
<p><a href="https://docs.ropensci.org/tsbox/articles/ts-functions.html">Vignette</a> on how to make arbitrary functions ts-boxable.</p>
</section>
<section id="examples-82" class="level4">
<h4 class="anchored" data-anchor-id="examples-82">Examples</h4>
<div class="sourceCode" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_scale</span>(<span class="fu">ts_c</span>(</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Male =</span> mdeaths,</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Female =</span> fdeaths,</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">First principal compenent</span><span class="st">`</span> <span class="ot">=</span> <span class="sc">-</span><span class="fu">ts_prcomp</span>(<span class="fu">ts_c</span>(mdeaths, fdeaths))[, <span class="dv">1</span>]</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>  )),</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Deaths from lung diseases"</span>,</span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"Normalized values"</span></span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(<span class="fu">ts_c</span>(</span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">male =</span> mdeaths, <span class="at">female =</span> fdeaths,</span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_forecast</span>(<span class="fu">ts_c</span>(<span class="st">`</span><span class="at">male (fct)</span><span class="st">`</span> <span class="ot">=</span> mdeaths, <span class="st">`</span><span class="at">female (fct)</span><span class="st">`</span> <span class="ot">=</span> fdeaths))</span>
<span id="cb167-14"><a href="#cb167-14" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb167-15"><a href="#cb167-15" aria-hidden="true" tabindex="-1"></a><span class="at">title =</span> <span class="st">"Deaths from lung diseases"</span>,</span>
<span id="cb167-16"><a href="#cb167-16" aria-hidden="true" tabindex="-1"></a><span class="at">subtitle =</span> <span class="st">"Exponential smoothing forecast"</span></span>
<span id="cb167-17"><a href="#cb167-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb167-18"><a href="#cb167-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-19"><a href="#cb167-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(</span>
<span id="cb167-20"><a href="#cb167-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Raw series</span><span class="st">`</span> <span class="ot">=</span> AirPassengers,</span>
<span id="cb167-21"><a href="#cb167-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Adjusted series</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ts_seas</span>(AirPassengers),</span>
<span id="cb167-22"><a href="#cb167-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Airline passengers"</span>,</span>
<span id="cb167-23"><a href="#cb167-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"X-13 seasonal adjustment"</span></span>
<span id="cb167-24"><a href="#cb167-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb167-25"><a href="#cb167-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-26"><a href="#cb167-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-27"><a href="#cb167-27" aria-hidden="true" tabindex="-1"></a><span class="do">## See ?imputeTS::na_interpolation for options</span></span>
<span id="cb167-28"><a href="#cb167-28" aria-hidden="true" tabindex="-1"></a>dta <span class="ot">&lt;-</span> <span class="fu">ts_c</span>(mdeaths, fdeaths)</span>
<span id="cb167-29"><a href="#cb167-29" aria-hidden="true" tabindex="-1"></a>dta[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb167-30"><a href="#cb167-30" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">ts_na_interpolation</span>(dta, <span class="at">option =</span> <span class="st">"spline"</span>))</span>
<span id="cb167-31"><a href="#cb167-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-32"><a href="#cb167-32" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_dygraphs</span>(<span class="fu">ts_c</span>(mdeaths, EuStockMarkets))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="bimets-and-gets-utilities" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="bimets-and-gets-utilities"><span class="header-section-number">6.9</span> bimets and gets utilities</h2>
<section id="fcutilsset_tsrange" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsset_tsrange">fcutils::set_tsrange()</h3>
<section id="description-84" class="level4">
<h4 class="anchored" data-anchor-id="description-84">Description</h4>
<p>Set tsrange for behavioral equations to available data range</p>
</section>
<section id="usage-84" class="level4">
<h4 class="anchored" data-anchor-id="usage-84">Usage</h4>
<div class="sourceCode" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_tsrange</span>(model_w_dat, <span class="at">max_lag =</span> <span class="dv">4</span>, <span class="at">eqns =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-84" class="level4">
<h4 class="anchored" data-anchor-id="arguments-84">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="model_w_dat">model_w_dat</code></td>
<td style="text-align: left;">bimets model (with data) to be estimated</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="max_lag">max_lag</code></td>
<td style="text-align: left;">the largest lag (default = 4) in the model (to offset starting point for estimation)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="eqns">eqns</code></td>
<td style="text-align: left;">names of behavioral equations to set tsrange for (default = NULL: all equations)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-22" class="level4">
<h4 class="anchored" data-anchor-id="details-22">Details</h4>
<p>Find periods where all variables in the equation are available. Shift beginning of the sample by max_lag periods. Set the tsrange for each equation (used in estimation).</p>
</section>
<section id="value-71" class="level4">
<h4 class="anchored" data-anchor-id="value-71">Value</h4>
<p>bimets model with tsrange set for estimation</p>
</section>
<section id="examples-83" class="level4">
<h4 class="anchored" data-anchor-id="examples-83">Examples</h4>
<div class="sourceCode" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_tsrange</span>(scen_model_dat, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsupdate_eqs" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsupdate_eqs">fcutils::update_eqs()</h3>
<section id="description-85" class="level4">
<h4 class="anchored" data-anchor-id="description-85">Description</h4>
<p>Update a bimets model with new/modified equations</p>
</section>
<section id="usage-85" class="level4">
<h4 class="anchored" data-anchor-id="usage-85">Usage</h4>
<div class="sourceCode" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update_eqs</span>(model_1, model_2, eqList)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-85" class="level4">
<h4 class="anchored" data-anchor-id="arguments-85">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="model_1">model_1</code></td>
<td style="text-align: left;">original estimated bimets model</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="model_2">model_2</code></td>
<td style="text-align: left;">estimated bimets model containing updates (only updated equations need to be estimated)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code id="eqList">eqList</code></td>
<td style="text-align: left;">names of updated behavioral equations (vector of strings), others taken from model_1 (equations missing from model_2 are removed)</td>
</tr>
</tbody>
</table>
</section>
<section id="details-23" class="level4">
<h4 class="anchored" data-anchor-id="details-23">Details</h4>
<p>Start by making a copy of the original model's equations (txt file). Re-specify some equations, add new equations, and remove not needed equations. Load the new model as model_2 and estimate the modified/new equations (ok to estimate all). Replace the equations in model_2 that should remain the same as in model_1 by the estimated equations from model_1. Equations that are to remain unchanged have to be present in both model_1 and model_2, and not present in eqList.</p>
</section>
<section id="value-72" class="level4">
<h4 class="anchored" data-anchor-id="value-72">Value</h4>
<p>estimated bimets model containing updates</p>
</section>
<section id="examples-84" class="level4">
<h4 class="anchored" data-anchor-id="examples-84">Examples</h4>
<div class="sourceCode" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update_eqs</span>(scen_model_1_est, scen_model_2_est, <span class="fu">c</span>(<span class="st">"E_NF_AT_HI_Q"</span>, <span class="st">"Y_R_AT_HI_Q"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsextract_data" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsextract_data">fcutils::extract_data()</h3>
<section id="description-86" class="level4">
<h4 class="anchored" data-anchor-id="description-86">Description</h4>
<p>Parse gets output and extract underlying data (GETS model development)</p>
</section>
<section id="usage-86" class="level4">
<h4 class="anchored" data-anchor-id="usage-86">Usage</h4>
<div class="sourceCode" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">extract_data</span>(model_in, y_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-86" class="level4">
<h4 class="anchored" data-anchor-id="arguments-86">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="model_in">model_in</code></td>
<td style="text-align: left;">a model estimated by arx, isat, or getsm</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="y_name">y_name</code></td>
<td style="text-align: left;">the actual name of the y variable</td>
</tr>
</tbody>
</table>
</section>
<section id="value-73" class="level4">
<h4 class="anchored" data-anchor-id="value-73">Value</h4>
<p>an xts containing the model variables</p>
</section>
<section id="examples-85" class="level4">
<h4 class="anchored" data-anchor-id="examples-85">Examples</h4>
<div class="sourceCode" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="do">## save the data associated with a gets model</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="fcutilsmodel_equation" class="level3">
<h3 class="anchored" data-anchor-id="fcutilsmodel_equation">fcutils::model_equation()</h3>
<section id="description-87" class="level4">
<h4 class="anchored" data-anchor-id="description-87">Description</h4>
<p>Parse lm() output and convert into bimets equation (GETS model development)</p>
</section>
<section id="usage-87" class="level4">
<h4 class="anchored" data-anchor-id="usage-87">Usage</h4>
<div class="sourceCode" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">model_equation</span>(model, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arguments-87" class="level4">
<h4 class="anchored" data-anchor-id="arguments-87">Arguments</h4>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: left;"><code id="model">model</code></td>
<td style="text-align: left;">a model estimated by lm() (lm object)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code id="...">...</code></td>
<td style="text-align: left;">arguments to format the coefficients e.g.&nbsp;digits = 3</td>
</tr>
</tbody>
</table>
</section>
<section id="value-74" class="level4">
<h4 class="anchored" data-anchor-id="value-74">Value</h4>
<p>a character vector containing the estimated equation (1) and bimets components (2:4)</p>
</section>
<section id="examples-86" class="level4">
<h4 class="anchored" data-anchor-id="examples-86">Examples</h4>
<div class="sourceCode" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="do">## this function combines coefficient estimates and variable names into an equation</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="do">## in vector element 1 and into bimets components in vector elements 2-4.</span></span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="do">## https://stats.stackexchange.com/questions/63600/</span></span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="do">## how-to-translate-the-results-from-lm-to-an-equation</span></span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"UKDriverDeaths"</span>, <span class="at">package =</span> <span class="st">"datasets"</span>)</span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a>uk <span class="ot">&lt;-</span> <span class="fu">log10</span>(UKDriverDeaths)</span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a>dfm <span class="ot">&lt;-</span> dynlm<span class="sc">::</span><span class="fu">dynlm</span>(uk <span class="sc">~</span> <span class="fu">L</span>(uk, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">+</span> <span class="fu">L</span>(<span class="fu">log</span>(uk), <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">12</span>)))</span>
<span id="cb175-8"><a href="#cb175-8" aria-hidden="true" tabindex="-1"></a><span class="fu">model_equation</span>(dfm)</span>
<span id="cb175-9"><a href="#cb175-9" aria-hidden="true" tabindex="-1"></a><span class="do">## (1) "uk = - 0.12255631 + 0.42870091 * L(uk, 1:3)1 + 0.06306114 * L(uk, 1:3)2 - 0.09778518 *</span></span>
<span id="cb175-10"><a href="#cb175-10" aria-hidden="true" tabindex="-1"></a><span class="do">## L(uk, 1:3)3 + 0.37480999 * L(log(uk), c(5:6, 12))5 - 0.22709846 * L(log(uk), c(5:6, 12))6 +</span></span>
<span id="cb175-11"><a href="#cb175-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 1.62340449 * L(log(uk), c(5:6, 12))12"</span></span>
<span id="cb175-12"><a href="#cb175-12" aria-hidden="true" tabindex="-1"></a><span class="do">## (2) "BEHAVIORAL&gt; uk"</span></span>
<span id="cb175-13"><a href="#cb175-13" aria-hidden="true" tabindex="-1"></a><span class="do">## (3) "EQ&gt; uk = b0 + b1 * TSLAG(uk, 1) + b2 * TSLAG(uk, 2) + b3 * TSLAG(uk, 3) + b4 *</span></span>
<span id="cb175-14"><a href="#cb175-14" aria-hidden="true" tabindex="-1"></a><span class="do">## TSLAG(LOG(uk), 5) + b5 * TSLAG(LOG(uk), 6) + b6 * TSLAG(LOG(uk), 12)"</span></span>
<span id="cb175-15"><a href="#cb175-15" aria-hidden="true" tabindex="-1"></a><span class="do">## (4) "COEFF&gt; b0 b1 b2 b3 b4 b5 b6"</span></span>
<span id="cb175-16"><a href="#cb175-16" aria-hidden="true" tabindex="-1"></a><span class="do">### fcutils::model_equation()</span></span>
<span id="cb175-17"><a href="#cb175-17" aria-hidden="true" tabindex="-1"></a>dfm <span class="ot">&lt;-</span> dynlm<span class="sc">::</span><span class="fu">dynlm</span>(<span class="fu">d</span>(<span class="fu">log</span>(uk)) <span class="sc">~</span> <span class="fu">L</span>(uk, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">11</span>, <span class="dv">12</span>)), <span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1975</span>, <span class="dv">1</span>), <span class="at">end =</span> <span class="fu">c</span>(<span class="dv">1982</span>, <span class="dv">12</span>))</span>
<span id="cb175-18"><a href="#cb175-18" aria-hidden="true" tabindex="-1"></a><span class="fu">model_equation</span>(dfm)</span>
<span id="cb175-19"><a href="#cb175-19" aria-hidden="true" tabindex="-1"></a><span class="do">## (1) "d(log(uk)) = 0.1018542 - 0.2379287 * L(uk, c(1, 11, 12))1 + 0.0368355 *</span></span>
<span id="cb175-20"><a href="#cb175-20" aria-hidden="true" tabindex="-1"></a><span class="do">## L(uk, c(1, 11, 12))11 + 0.1689896 * L(uk, c(1, 11, 12))12"</span></span>
<span id="cb175-21"><a href="#cb175-21" aria-hidden="true" tabindex="-1"></a><span class="do">## (2) "BEHAVIORAL&gt; TSDELTA_LOG_uk"</span></span>
<span id="cb175-22"><a href="#cb175-22" aria-hidden="true" tabindex="-1"></a><span class="do">## (3) "EQ&gt; TSDELTA(LOG(uk)) = b0 + b1 * TSLAG(uk, 1) + b2 * TSLAG(uk, 11) + b3 * TSLAG(uk, 12)"</span></span>
<span id="cb175-23"><a href="#cb175-23" aria-hidden="true" tabindex="-1"></a><span class="do">## (4) "COEFF&gt; b0 b1 b2 b3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="fcutils-constants" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="fcutils-constants"><span class="header-section-number">6.10</span> fcutils constants</h2>
<p>The fcutils package assumes a date range for data sets. Unless specified by the user, the start and end date are set by default to:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>bnk_start <span class="ot">=</span> <span class="st">"1970-01-01"</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>bnk_end <span class="ot">=</span> <span class="st">"2060-12-31"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./setup.html" class="pagination-link" aria-label="Setup of the forecastr project">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Setup of the forecastr project</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./bestpract.html" class="pagination-link" aria-label="Best practices for time series data manipulation">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Best practices for time series data manipulation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Author: Peter Fuleky</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/UHERO/forecastr_book/edit/main/fcutils.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/UHERO/forecastr_book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/UHERO/forecastr_book/blob/main/fcutils.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>